@{
    ViewData["Title"] = "Creación de Promoción";
    var usuarioActual = ViewBag.UsuarioActual as string;
}

@section Scripts {
    <script>
        window.usuarioActual = '@usuarioActual';
    </script>

    <!-- jQuery -->
    <script src="~/js/jquery-3.7.1.min.js" asp-append-version="true"></script>

    <!-- jQuery UI (Datepicker) -->
    <link rel="stylesheet" href="https://code.jquery.com/ui/1.13.3/themes/base/jquery-ui.css">
    <script src="https://code.jquery.com/ui/1.13.3/jquery-ui.min.js"></script>

    <!-- Localización Datepicker ES -->
    <script src="https://code.jquery.com/ui/1.13.3/i18n/datepicker-es.js"></script>

    <!-- DataTables -->
    <script src="~/js/datatables.min.js" asp-append-version="true"></script>

    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css"
          crossorigin="anonymous" referrerpolicy="no-referrer" />

    <!-- Script principal -->
    <script src="~/js/Promocion/CrearPromocion.js" asp-append-version="true"></script>

    <style>
        .ui-datepicker {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            font-size: 0.9rem;
            z-index: 1056 !important;
        }

        .detalle-header {
            background-color: #343a40;
            color: white;
            padding: 8px 15px;
            text-align: center;
            font-weight: bold;
            font-size: 1.1rem;
            margin-top: 15px;
            border-radius: 4px;
        }

        .tabla-items-header th {
            background-color: #a4c995;
            color: #343a40;
            font-weight: bold;
            vertical-align: middle;
            text-align: center;
            border: 1px solid #dee2e6;
        }

        /* Cabeceras Consulta/Solo Lectura - Verde */
        .custom-header-cons-bg {
            background-color: #a4c995 !important;
            color: #343a40 !important;
        }

        /* Cabeceras Editables - Amarillo */
        .custom-header-ingr-bg {
            background-color: #FFEC99 !important;
            color: #343a40 !important;
        }

        /* Cabeceras de Cálculos - Naranja */
        .custom-header-calc-bg {
            background-color: #FFBF47 !important;
            color: #343a40 !important;
        }

        .tabla-items-body input[type="text"],
        .tabla-items-body input[type="number"] {
            text-align: right;
            padding: 0.25rem 0.5rem;
            font-size: 0.875rem;
            height: 28px;
            border: 1px solid #ced4da;
            border-radius: 0.2rem;
        }

        .custom-celda-bg {
            background-color: rgba(140, 140, 140, 0.15) !important;
        }

        /* Estilos para select múltiple */
        .filtro-container {
            cursor: pointer;
        }

        .form-select option:checked {
            background-color: #198754 !important;
            color: white !important;
            font-weight: bold;
        }

        /* Modal ajustes */
        #modalConsultaItems .modal-body {
            padding-top: 0 !important;
            padding-bottom: 0 !important;
        }

        #modalConsultaItems .table-responsive {
            max-height: 350px;
            overflow-y: auto;
        }

        /* Tabla sticky column */
        .table-sticky-col {
            position: sticky;
            left: 0;
            background-color: #fff;
            z-index: 1;
        }

        thead .table-sticky-col {
            z-index: 2;
        }
    </style>
}

<!-- Encabezado -->
<div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-2 pb-1 mb-2 border-bottom">
    <h1 class="h4">Promoción - Creación</h1>
</div>

<!-- Selector tipo promoción -->
<div class="col-md-13">
    <label for="promocionTipo" class="form-label fw-bold col-form-label-sm">Clase de Promoción</label>
    <select id="promocionTipo" class="form-select form-select-sm">
        <option value="General">General</option>
        <option value="Articulos">Con Artículos</option>
        <option value="Combos">Con Combos</option>
    </select>
</div>

<hr />

<!-- ========================================================= -->
<!-- FORM PROMOCIÓN GENERAL -->
<!-- ========================================================= -->
<form id="formGeneral" class="row g-1 mb-1 pb-1">

    <!-- Línea 1 -->
    <div class="col-md-2">
        <label for="descripcionGeneral" class="form-label fw-bold col-form-label-sm">Descripción</label>
        <input type="text" class="form-control form-control-sm" id="descripcionGeneral" placeholder="Ingrese Descripción">
    </div>

    <div class="col-md-2">
        <label for="motivoGeneral" class="form-label fw-bold col-form-label-sm">Motivo</label>
        <select id="motivoGeneral" class="form-select form-select-sm">
            <option value="">Seleccione...</option>
            <option value="1">Excedente</option>
            <option value="2">Lenta Rotación</option>
            <option value="3">Día de la Madre</option>
            <option value="4">Día del Padre</option>
            <option value="5">Black Friday</option>
        </select>
    </div>

    <div class="col-md-2">
        <label for="fechaInicioGeneral" class="form-label fw-bold col-form-label-sm">Inicio: Fecha - Hora</label>
        <div class="input-group input-group-sm">
            <input id="fechaInicioGeneral" type="text" class="form-control form-control-sm" placeholder="dd/mm/aaaa">
            <button class="btn btn-outline-secondary" type="button" id="btnFechaInicioGeneral">
                <img src="~/img/ico/calendar2-week.svg" alt="Calendario">
            </button>
        </div>
    </div>

    <div class="col-md-2">
        <label for="fechaFinGeneral" class="form-label fw-bold col-form-label-sm">Fin: Fecha - Hora</label>
        <div class="input-group input-group-sm">
            <input id="fechaFinGeneral" type="text" class="form-control form-control-sm" placeholder="dd/mm/aaaa">
            <button class="btn btn-outline-secondary" type="button" id="btnFechaFinGeneral">
                <img src="~/img/ico/calendar2-week.svg" alt="Calendario">
            </button>
        </div>
    </div>

    <div class="col-md-1">
        <label class="form-label fw-bold col-form-label-sm text-center d-block">Marca</label>
        <select class="form-select form-select-sm" size="3" multiple id="filtroMarcaGeneral">
            <option selected>Todas</option>
            <option>Marca 1</option>
            <option>Marca 2</option>
            <option>Marca 3</option>
        </select>
    </div>

    <div class="col-md-1">
        <label class="form-label fw-bold col-form-label-sm text-center d-block">División</label>
        <select class="form-select form-select-sm" size="3" multiple id="filtroDivisionGeneral">
            <option selected>Todas</option>
            <option>División 1</option>
            <option>División 2</option>
            <option>División 3</option>
        </select>
    </div>

    <div class="col-md-1">
        <label class="form-label fw-bold col-form-label-sm text-center d-block">Departamento</label>
        <select class="form-select form-select-sm" size="3" multiple id="filtroDepartamentoGeneral">
            <option selected>Todos</option>
            <option>Depto 1</option>
            <option>Depto 2</option>
            <option>Depto 3</option>
        </select>
    </div>

    <div class="col-md-1">
        <label class="form-label fw-bold col-form-label-sm text-center d-block">Clase</label>
        <select class="form-select form-select-sm" size="3" multiple id="filtroClaseGeneral">
            <option selected>Todas</option>
            <option>Clase 1</option>
            <option>Clase 2</option>
            <option>Clase 3</option>
        </select>
    </div>

    <!-- Línea 2 -->
    <div class="col-md-1 mt-2">
        <label for="articuloGeneral" class="form-label fw-bold col-form-label-sm">Artículo</label>
        <div class="input-group input-group-sm">
            <div class="input-group-text">
                <input class="form-check-input mt-0" type="checkbox" id="chkArticuloGeneral">
            </div>
            <input type="text" class="form-control" id="articuloGeneral" disabled>
        </div>
    </div>

    <div class="col-md-2 mt-2">
        <label class="form-label fw-bold col-form-label-sm text-center d-block">Canal</label>
        <select class="form-select form-select-sm" size="3" multiple id="filtroCanalGeneral">
            <option selected>Todos</option>
            <option>Tienda Local</option>
            <option>Tienda Virtual</option>
            <option>Móvil</option>
        </select>
    </div>

    <div class="col-md-2 mt-2">
        <label class="form-label fw-bold col-form-label-sm text-center d-block">Grupo Almacén</label>
        <select class="form-select form-select-sm" size="3" multiple id="filtroGrupoAlmacenGeneral">
            <option selected>Todos</option>
            <option>Grupo 1</option>
            <option>Grupo 2</option>
            <option>Grupo 3</option>
        </select>
    </div>

    <div class="col-md-2 mt-2">
        <label class="form-label fw-bold col-form-label-sm text-center d-block">Almacén</label>
        <select class="form-select form-select-sm" size="3" multiple id="filtroAlmacenGeneral">
            <option selected>Todos</option>
            <option>Almacén 1</option>
            <option>Almacén 2</option>
        </select>
    </div>

    <div class="col-md-2 mt-2">
        <label class="form-label fw-bold col-form-label-sm">Tipo de Cliente</label>
        <div class="input-group input-group-sm">
            <button id="btnListaClienteGeneral" class="btn btn-outline-secondary d-none" type="button"
                    data-bs-toggle="modal" data-bs-target="#modalClientesEspecificos">
                <img src="~/img/ico/list-check.svg" alt="Lista">
            </button>
            <select class="form-select" id="tipoClienteGeneral">
                <option selected>Todos</option>
                <option value="1">Especiales</option>
                <option value="2">Frecuentes</option>
                <option value="3">Lista Específica</option>
            </select>
        </div>
    </div>

    <div class="col-md-3 mt-2">
        <label class="form-label fw-bold col-form-label-sm text-center d-block">Medio Pago</label>
        <select class="form-select form-select-sm" size="3" multiple id="filtroMedioPagoGeneral">
            <option selected>Todos</option>
            <option>Efectivo</option>
            <option>Visa Platinium</option>
            <option>Mastercard Pacificard</option>
            <option>Crédito Directo</option>
            <option>Diners</option>
            <option>American Express</option>
        </select>
    </div>

    <!-- Línea 3 - Descuentos y Aportes -->
    <div class="col-md-1 mt-2">
        <label class="form-label fw-bold col-form-label-sm">% Dscto Prov.</label>
        <input type="text" class="form-control form-control-sm text-end" id="descuentoProveedorGeneral" placeholder="99.99%">
    </div>

    <div class="col-md-2 mt-2">
        <label class="form-label fw-bold col-form-label-sm">ID Acuerdo Proveedor</label>
        <div class="input-group input-group-sm">
            <input type="text" class="form-control" id="acuerdoProveedorGeneral" placeholder="APR999 - MABE" readonly>
            <button class="btn btn-outline-secondary" type="button" data-bs-toggle="modal" data-bs-target="#modalConsultaAcuerdos">
                <img src="~/img/ico/search.svg" alt="Buscar">
            </button>
        </div>
    </div>

    <div class="col-md-2 mt-2">
        <label class="form-label fw-bold col-form-label-sm">$ Comprometido Prov.</label>
        <input type="text" class="form-control form-control-sm text-end" id="comprometidoProveedorGeneral" placeholder="$ 0,00" disabled>
    </div>

    <div class="col-md-1 mt-2">
        <label class="form-label fw-bold col-form-label-sm">% Dscto Prop.</label>
        <input type="text" class="form-control form-control-sm text-end" id="descuentoPropioGeneral" placeholder="99.99%">
    </div>

    <div class="col-md-2 mt-2">
        <label class="form-label fw-bold col-form-label-sm">ID Acuerdo Propio</label>
        <div class="input-group input-group-sm">
            <input type="text" class="form-control" id="acuerdoPropioGeneral" placeholder="APR999 - Artefacta" readonly>
            <button class="btn btn-outline-secondary" type="button" data-bs-toggle="modal" data-bs-target="#modalConsultaAcuerdos">
                <img src="~/img/ico/search.svg" alt="Buscar">
            </button>
        </div>
    </div>

    <div class="col-md-2 mt-2">
        <label class="form-label fw-bold col-form-label-sm">$ Comprometido Propio</label>
        <input type="text" class="form-control form-control-sm text-end" id="comprometidoPropioGeneral" placeholder="$ 0,00" disabled>
    </div>

    <div class="col-md-1 mt-2">
        <label class="form-label fw-bold col-form-label-sm">% Dscto Total</label>
        <input type="text" class="form-control form-control-sm text-end" id="descuentoTotalGeneral" placeholder="99.99%" disabled>
    </div>

    <div class="col-md-1 mt-2">
        <label class="form-label fw-bold col-form-label-sm">Regalo</label>
        <div class="form-check d-flex justify-content-center align-items-center mt-1">
            <input class="form-check-input" type="checkbox" id="regaloGeneral">
        </div>
    </div>

    <hr class="mt-3 mb-1" />

    <div class="col-12">
        <button type="button" class="btn btn-secondary" id="btnCancelarGeneral">Cancelar</button>
        <button type="button" class="btn btn-primary" id="btnGuardarPromocionGeneral">Grabar</button>
    </div>
</form>

<!-- ========================================================= -->
<!-- FORM PROMOCIÓN CON ARTÍCULOS -->
<!-- ========================================================= -->
<form id="formArticulos" class="row g-1 mb-1 pb-1" style="display:none;">

    <!-- Línea 1 -->
    <div class="col-md-3">
        <label for="descripcionArticulos" class="form-label fw-bold col-form-label-sm">Descripción de la Promoción</label>
        <input type="text" class="form-control form-control-sm" id="descripcionArticulos" placeholder="Ingrese Descripción">
    </div>

    <div class="col-md-2">
        <label for="motivoArticulos" class="form-label fw-bold col-form-label-sm">Motivo</label>
        <select id="motivoArticulos" class="form-select form-select-sm">
            <option value="">Seleccione...</option>
            <option value="1">Excedente</option>
            <option value="2">Lenta Rotación</option>
            <option value="3">Día de la Madre</option>
            <option value="4">Día del Padre</option>
            <option value="5">Black Friday</option>
        </select>
    </div>

    <div class="col-md-2">
        <label for="fechaInicioArticulos" class="form-label fw-bold col-form-label-sm">Inicio: Fecha - Hora</label>
        <div class="input-group input-group-sm">
            <input id="fechaInicioArticulos" type="text" class="form-control form-control-sm" placeholder="dd/mm/aaaa">
            <button class="btn btn-outline-secondary" type="button" id="btnFechaInicioArticulos">
                <img src="~/img/ico/calendar2-week.svg" alt="Calendario">
            </button>
        </div>
    </div>

    <div class="col-md-2">
        <label for="fechaFinArticulos" class="form-label fw-bold col-form-label-sm">Fin: Fecha - Hora</label>
        <div class="input-group input-group-sm">
            <input id="fechaFinArticulos" type="text" class="form-control form-control-sm" placeholder="dd/mm/aaaa">
            <button class="btn btn-outline-secondary" type="button" id="btnFechaFinArticulos">
                <img src="~/img/ico/calendar2-week.svg" alt="Calendario">
            </button>
        </div>
    </div>

    <div class="col-md-3">
        <label class="form-label fw-bold col-form-label-sm">Canal</label>
        <select class="form-select form-select-sm" size="3" multiple id="filtroCanalArticulos">
            <option selected>Todos</option>
            <option>Tienda Local</option>
            <option>Tienda Virtual</option>
            <option>Móvil</option>
        </select>
    </div>

    <!-- Línea 2 -->
    <div class="col-md-3 mt-2">
        <label class="form-label fw-bold col-form-label-sm">Grupo Almacenes</label>
        <select class="form-select form-select-sm" size="3" multiple id="filtroGrupoAlmacenArticulos">
            <option selected>Todos</option>
            <option>Grupo 1</option>
            <option>Grupo 2</option>
        </select>
    </div>

    <div class="col-md-2 mt-2">
        <label class="form-label fw-bold col-form-label-sm">Almacén</label>
        <select class="form-select form-select-sm" size="3" multiple id="filtroAlmacenArticulos">
            <option selected>Todos</option>
            <option>Almacén 1</option>
            <option>Almacén 2</option>
        </select>
    </div>

    <div class="col-md-2 mt-2">
        <label class="form-label fw-bold col-form-label-sm">Tipo de Cliente</label>
        <div class="input-group input-group-sm">
            <button class="btn btn-outline-secondary" type="button" data-bs-toggle="modal" data-bs-target="#modalClientesEspecificos">
                <img src="~/img/ico/list-check.svg" alt="Lista">
            </button>
            <select class="form-select" id="tipoClienteArticulos">
                <option selected>Todos</option>
                <option value="1">Especiales</option>
                <option value="2">Frecuentes</option>
                <option value="3">Lista Específica</option>
            </select>
        </div>
    </div>

    <!-- Detalle de Artículos -->
    <div class="col-12 mt-3">
        <div class="detalle-header">Detalle de los Artículos</div>

        <div class="d-flex align-items-center gap-3 pt-2 pb-1">
            <button id="btnAddItemArticulos" type="button" class="btn btn-outline-primary border-0 d-flex align-items-center gap-1"
                    data-bs-toggle="modal" data-bs-target="#modalConsultaItems">
                <i class="fa-regular fa-square-plus"></i> Añadir Item
            </button>
            <button id="btnDeleteItemArticulos" type="button" class="btn btn-outline-danger border-0 d-flex align-items-center gap-1">
                <i class="fa-regular fa-trash-can"></i> Eliminar
            </button>
            <button type="button" class="btn btn-outline-secondary border-0 d-flex align-items-center gap-1"
                    data-bs-toggle="modal" data-bs-target="#modalEquivalentes">
                <i class="fa-solid fa-arrows-left-right"></i> Equivalentes
            </button>
            <button type="button" class="btn btn-outline-secondary border-0 d-flex align-items-center gap-1"
                    data-bs-toggle="modal" data-bs-target="#modalPreciosCompetencia">
                <i class="fa-solid fa-tags"></i> Precios Competencia
            </button>
            <button type="button" class="btn btn-outline-secondary border-0 d-flex align-items-center gap-1"
                    data-bs-toggle="modal" data-bs-target="#modalOtrosCostos">
                <i class="fa-solid fa-coins"></i> Otros Costos
            </button>
        </div>

        <div class="col-12">
            <div class="table-responsive small border" style="height: 300px; overflow-x: auto;">
                <table class="table table-bordered table-sm">
                    <thead class="sticky-top text-nowrap">
                        <tr class="text-center tabla-items-header">
                            <th scope="col" class="table-sticky-col" style="min-width: 200px; background-color: #a4c995;">Artículo</th>
                            <th scope="col" class="custom-header-cons-bg">Costo</th>
                            <th scope="col" class="custom-header-cons-bg">Stock Bodega</th>
                            <th scope="col" class="custom-header-cons-bg">Stock Tienda</th>
                            <th scope="col" class="custom-header-cons-bg">Inv. Óptimo</th>
                            <th scope="col" class="custom-header-cons-bg">Excedente(u)</th>
                            <th scope="col" class="custom-header-cons-bg">Excedente($)</th>
                            <th scope="col" class="custom-header-cons-bg">Vta M-0(u)</th>
                            <th scope="col" class="custom-header-cons-bg">Vta M-0($)</th>
                            <th scope="col" class="custom-header-cons-bg">Vta M-1(u)</th>
                            <th scope="col" class="custom-header-cons-bg">Vta M-1($)</th>
                            <th scope="col" class="custom-header-cons-bg">Vta M-2(u)</th>
                            <th scope="col" class="custom-header-cons-bg">Vta M-2($)</th>
                            <th scope="col" class="custom-header-cons-bg">Vta Igualar</th>
                            <th scope="col" class="custom-header-cons-bg">Marg.Min Contado</th>
                            <th scope="col" class="custom-header-cons-bg">Marg.Min TC</th>
                            <th scope="col" class="custom-header-cons-bg">Marg.Min Crédito</th>
                            <th scope="col" class="custom-header-cons-bg">Marg.Min Igualar</th>
                            <th scope="col" class="custom-header-ingr-bg">Unidades Límite</th>
                            <th scope="col" class="custom-header-ingr-bg">Proyección Vtas(u)</th>
                            <th scope="col" class="custom-header-ingr-bg">Medio de Pago</th>
                            <th scope="col" class="custom-header-cons-bg">Precio Lista</th>
                            <th scope="col" class="custom-header-ingr-bg">Precio Promo Contado</th>
                            <th scope="col" class="custom-header-ingr-bg">Precio Promo TC</th>
                            <th scope="col" class="custom-header-ingr-bg">Precio Promo Crédito</th>
                            <th scope="col" class="custom-header-ingr-bg">Precio Igualar</th>
                            <th scope="col" class="custom-header-calc-bg">Dscto Promo Contado</th>
                            <th scope="col" class="custom-header-calc-bg">Dscto Promo TC</th>
                            <th scope="col" class="custom-header-calc-bg">Dscto Promo Crédito</th>
                            <th scope="col" class="custom-header-calc-bg">Dscto Igualar</th>
                            <th scope="col" class="custom-header-ingr-bg">Aporte Proveedor</th>
                            <th scope="col" class="custom-header-ingr-bg">Aporte Prov. ID Acuerdo</th>
                            <th scope="col" class="custom-header-ingr-bg">Aporte Rebate</th>
                            <th scope="col" class="custom-header-ingr-bg">Aporte Rebate ID Acuerdo</th>
                            <th scope="col" class="custom-header-ingr-bg">Aporte Propio</th>
                            <th scope="col" class="custom-header-ingr-bg">Aporte Propio ID Acuerdo</th>
                            <th scope="col" class="custom-header-cons-bg">Margen Precio Lista</th>
                            <th scope="col" class="custom-header-calc-bg">Margen Promo Contado</th>
                            <th scope="col" class="custom-header-calc-bg">Margen Promo TC</th>
                            <th scope="col" class="custom-header-calc-bg">Margen Promo Crédito</th>
                            <th scope="col" class="custom-header-calc-bg">Margen Igualar</th>
                            <th scope="col" class="custom-header-calc-bg">Comp. Proveedor</th>
                            <th scope="col" class="custom-header-calc-bg">Comp. Rebate</th>
                            <th scope="col" class="custom-header-calc-bg">Comp. Propio</th>
                            <th scope="col" class="custom-header-calc-bg">Regalo</th>
                        </tr>
                    </thead>
                    <tbody id="tablaArticulosBody" class="text-nowrap tabla-items-body">
                        <!-- Se llenará dinámicamente -->
                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <hr class="mt-3 mb-1" />

    <div class="col-12">
        <button type="button" class="btn btn-secondary" id="btnCancelarArticulos">Cancelar</button>
        <button type="button" class="btn btn-primary" id="btnGuardarPromocionArticulos">Grabar</button>
    </div>
</form>

<!-- ========================================================= -->
<!-- FORM PROMOCIÓN CON COMBOS -->
<!-- ========================================================= -->
<form id="formCombos" class="row g-1 mb-1 pb-1" style="display:none;">

    <!-- Línea 1 -->
    <div class="col-md-3">
        <label for="descripcionCombos" class="form-label fw-bold col-form-label-sm">Descripción de la Promoción</label>
        <input type="text" class="form-control form-control-sm" id="descripcionCombos" placeholder="Ingrese Descripción">
    </div>

    <div class="col-md-2">
        <label for="motivoCombos" class="form-label fw-bold col-form-label-sm">Motivo</label>
        <select id="motivoCombos" class="form-select form-select-sm">
            <option value="">Seleccione...</option>
            <option value="1">Excedente</option>
            <option value="2">Lenta Rotación</option>
            <option value="3">Día de la Madre</option>
            <option value="4">Día del Padre</option>
            <option value="5">Black Friday</option>
        </select>
    </div>

    <div class="col-md-2">
        <label for="fechaInicioCombos" class="form-label fw-bold col-form-label-sm">Inicio: Fecha - Hora</label>
        <div class="input-group input-group-sm">
            <input id="fechaInicioCombos" type="text" class="form-control form-control-sm" placeholder="dd/mm/aaaa">
            <button class="btn btn-outline-secondary" type="button" id="btnFechaInicioCombos">
                <img src="~/img/ico/calendar2-week.svg" alt="Calendario">
            </button>
        </div>
    </div>

    <div class="col-md-2">
        <label for="fechaFinCombos" class="form-label fw-bold col-form-label-sm">Fin: Fecha - Hora</label>
        <div class="input-group input-group-sm">
            <input id="fechaFinCombos" type="text" class="form-control form-control-sm" placeholder="dd/mm/aaaa">
            <button class="btn btn-outline-secondary" type="button" id="btnFechaFinCombos">
                <img src="~/img/ico/calendar2-week.svg" alt="Calendario">
            </button>
        </div>
    </div>

    <div class="col-md-3">
        <label class="form-label fw-bold col-form-label-sm">Canal</label>
        <select class="form-select form-select-sm" size="3" multiple id="filtroCanalCombos">
            <option selected>Todos</option>
            <option>Tienda Local</option>
            <option>Tienda Virtual</option>
            <option>Móvil</option>
        </select>
    </div>

    <!-- Línea 2 -->
    <div class="col-md-3 mt-2">
        <label class="form-label fw-bold col-form-label-sm">Grupo Almacenes</label>
        <select class="form-select form-select-sm" size="3" multiple id="filtroGrupoAlmacenCombos">
            <option selected>Todos</option>
            <option>Grupo 1</option>
            <option>Grupo 2</option>
        </select>
    </div>

    <div class="col-md-2 mt-2">
        <label class="form-label fw-bold col-form-label-sm">Almacén</label>
        <select class="form-select form-select-sm" size="3" multiple id="filtroAlmacenCombos">
            <option selected>Todos</option>
            <option>Almacén 1</option>
            <option>Almacén 2</option>
        </select>
    </div>

    <div class="col-md-2 mt-2">
        <label class="form-label fw-bold col-form-label-sm">Tipo de Cliente</label>
        <div class="input-group input-group-sm">
            <button class="btn btn-outline-secondary" type="button" data-bs-toggle="modal" data-bs-target="#modalClientesEspecificos">
                <img src="~/img/ico/list-check.svg" alt="Lista">
            </button>
            <select class="form-select" id="tipoClienteCombos">
                <option selected>Todos</option>
                <option value="1">Especiales</option>
                <option value="2">Frecuentes</option>
                <option value="3">Lista Específica</option>
            </select>
        </div>
    </div>

    <!-- Detalle de Combos -->
    <div class="col-12 mt-3">
        <div class="detalle-header">Detalle de los Combos</div>

        <div class="d-flex align-items-center gap-3 pt-2 pb-1">
            <button id="btnNuevoCombo" type="button" class="btn btn-outline-dark border-0 d-flex align-items-center gap-1">
                <i class="fa-regular fa-file"></i> Nuevo Combo
            </button>
            <button id="btnEliminarCombo" type="button" class="btn btn-outline-danger border-0 d-flex align-items-center gap-1">
                <i class="fa-regular fa-trash-can"></i> Eliminar Combo
            </button>
            <button id="btnModificarCombo" type="button" class="btn btn-outline-warning border-0 d-flex align-items-center gap-1">
                <i class="fa-regular fa-pen-to-square"></i> Modificar Combo
            </button>
        </div>

        <div class="col-12">
            <div class="table-responsive small border" style="height: 250px; overflow-x: auto;">
                <table class="table table-bordered table-sm">
                    <thead class="sticky-top text-nowrap">
                        <tr class="text-center tabla-items-header">
                            <th scope="col" class="table-sticky-col" style="min-width: 220px; background-color: #a4c995;">Combo</th>
                            <th scope="col" class="custom-header-cons-bg">Costo</th>
                            <th scope="col" class="custom-header-cons-bg">Stock Bodega</th>
                            <th scope="col" class="custom-header-cons-bg">Stock Tienda</th>
                            <th scope="col" class="custom-header-cons-bg">Inv. Óptimo</th>
                            <th scope="col" class="custom-header-cons-bg">Excedente(u)</th>
                            <th scope="col" class="custom-header-cons-bg">Excedente($)</th>
                            <th scope="col" class="custom-header-ingr-bg">Unidades Límite</th>
                            <th scope="col" class="custom-header-ingr-bg">Proyección Vtas(u)</th>
                            <th scope="col" class="custom-header-ingr-bg">Medio de Pago</th>
                            <th scope="col" class="custom-header-cons-bg">Precio Lista</th>
                            <th scope="col" class="custom-header-ingr-bg">Precio Promo Contado</th>
                            <th scope="col" class="custom-header-ingr-bg">Precio Promo TC</th>
                            <th scope="col" class="custom-header-ingr-bg">Precio Promo Crédito</th>
                            <th scope="col" class="custom-header-calc-bg">Dscto Promo Contado</th>
                            <th scope="col" class="custom-header-calc-bg">Dscto Promo TC</th>
                            <th scope="col" class="custom-header-calc-bg">Dscto Promo Crédito</th>
                            <th scope="col" class="custom-header-calc-bg">Margen Promo Contado</th>
                            <th scope="col" class="custom-header-calc-bg">Margen Promo TC</th>
                            <th scope="col" class="custom-header-calc-bg">Margen Promo Crédito</th>
                            <th scope="col" class="custom-header-calc-bg">Comp. Proveedor</th>
                            <th scope="col" class="custom-header-calc-bg">Comp. Rebate</th>
                            <th scope="col" class="custom-header-calc-bg">Comp. Propio</th>
                            <th scope="col" class="custom-header-calc-bg">Regalo</th>
                        </tr>
                    </thead>
                    <tbody id="tablaCombosBody" class="text-nowrap tabla-items-body">
                        <!-- Se llenará dinámicamente -->
                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <!-- Sección Creación de Combo (Colapsable) -->
    <div class="collapse mt-3" id="seccionCrearCombo">
        <div class="col-12 text-center border bg-dark bg-opacity-75 text-white fw-bold py-2">
            Creación del Combo
        </div>

        <div class="col-12 border mt-1 p-2">
            <div class="row mb-2">
                <div class="col-2">
                    <div class="input-group input-group-sm">
                        <span class="input-group-text">Código</span>
                        <input type="text" class="form-control" id="codigoCombo" value="" readonly>
                    </div>
                </div>
                <div class="col-4">
                    <div class="input-group input-group-sm">
                        <span class="input-group-text">Nombre</span>
                        <input type="text" class="form-control" id="nombreCombo" placeholder="Nombre del combo">
                    </div>
                </div>
                <div class="col-3">
                    <button type="button" class="btn btn-outline-success btn-sm border-0" id="btnAceptarCombo">
                        <i class="fa-solid fa-check"></i> Aceptar
                    </button>
                    <button type="button" class="btn btn-outline-danger btn-sm border-0" id="btnRechazarCombo" data-bs-toggle="collapse" data-bs-target="#seccionCrearCombo">
                        <i class="fa-solid fa-xmark"></i> Rechazar
                    </button>
                </div>
            </div>

            <div class="table-responsive small border" style="height: 350px; overflow-x: auto;">
                <table class="table table-bordered table-sm">
                    <thead class="sticky-top text-nowrap">
                        <tr class="text-center">
                            <th scope="col" class="table-sticky-col custom-header-cons-bg border-1" style="min-width: 180px;">Artículo</th>
                            <th scope="col" class="table-dark" style="min-width: 180px;">
                                <div class="dropdown">
                                    <button class="btn btn-dark dropdown-toggle btn-sm border-0" type="button" data-bs-toggle="dropdown">
                                        [Combo]
                                    </button>
                                    <ul class="dropdown-menu">
                                        <li><a class="dropdown-item" href="#" data-bs-toggle="modal" data-bs-target="#modalConsultaItems"><i class="fa-solid fa-plus"></i> Añadir Artículo</a></li>
                                    </ul>
                                </div>
                            </th>
                            <th scope="col" class="table-dark" style="min-width: 180px;">
                                <div class="dropdown">
                                    <button class="btn btn-dark dropdown-toggle btn-sm border-0" type="button" data-bs-toggle="dropdown">
                                        Artículo 1
                                    </button>
                                    <ul class="dropdown-menu">
                                        <li><a class="dropdown-item" href="#"><i class="fa-solid fa-plus"></i> Añadir Artículo</a></li>
                                        <li><a class="dropdown-item" href="#"><i class="fa-solid fa-trash"></i> Eliminar Artículo</a></li>
                                        <li><a class="dropdown-item" href="#"><i class="fa-solid fa-arrows-left-right"></i> Equivalentes</a></li>
                                        <li><a class="dropdown-item" href="#"><i class="fa-solid fa-tags"></i> Precios Competencia</a></li>
                                        <li><a class="dropdown-item" href="#"><i class="fa-solid fa-coins"></i> Otros Costos</a></li>
                                    </ul>
                                </div>
                            </th>
                            <th scope="col" class="table-dark" style="min-width: 180px;">
                                <div class="dropdown">
                                    <button class="btn btn-dark dropdown-toggle btn-sm border-0" type="button" data-bs-toggle="dropdown">
                                        Artículo 2
                                    </button>
                                    <ul class="dropdown-menu">
                                        <li><a class="dropdown-item" href="#"><i class="fa-solid fa-plus"></i> Añadir Artículo</a></li>
                                        <li><a class="dropdown-item" href="#"><i class="fa-solid fa-trash"></i> Eliminar Artículo</a></li>
                                        <li><a class="dropdown-item" href="#"><i class="fa-solid fa-arrows-left-right"></i> Equivalentes</a></li>
                                        <li><a class="dropdown-item" href="#"><i class="fa-solid fa-tags"></i> Precios Competencia</a></li>
                                        <li><a class="dropdown-item" href="#"><i class="fa-solid fa-coins"></i> Otros Costos</a></li>
                                    </ul>
                                </div>
                            </th>
                        </tr>
                    </thead>
                    <tbody id="tablaComboDetalleBody" class="text-nowrap">
                        <tr>
                            <td class="table-sticky-col custom-header-cons-bg border-1">Costo</td>
                            <td><input type="text" class="form-control form-control-sm" readonly></td>
                            <td><input type="text" class="form-control form-control-sm custom-celda-bg" readonly value="$ 999.99"></td>
                            <td><input type="text" class="form-control form-control-sm custom-celda-bg" readonly value="$ 999.99"></td>
                        </tr>
                        <tr>
                            <td class="table-sticky-col custom-header-cons-bg border-1">Stock Bodega</td>
                            <td><input type="text" class="form-control form-control-sm custom-celda-bg" readonly></td>
                            <td><input type="text" class="form-control form-control-sm custom-celda-bg" readonly value="999"></td>
                            <td><input type="text" class="form-control form-control-sm custom-celda-bg" readonly value="999"></td>
                        </tr>
                        <tr>
                            <td class="table-sticky-col custom-header-cons-bg border-1">Stock Tienda</td>
                            <td><input type="text" class="form-control form-control-sm custom-celda-bg" readonly></td>
                            <td><input type="text" class="form-control form-control-sm custom-celda-bg" readonly value="999"></td>
                            <td><input type="text" class="form-control form-control-sm custom-celda-bg" readonly value="999"></td>
                        </tr>
                        <tr>
                            <td class="table-sticky-col custom-header-ingr-bg border-1">Unidades Límite</td>
                            <td><input type="text" class="form-control form-control-sm" placeholder="999"></td>
                            <td><input type="text" class="form-control form-control-sm custom-celda-bg" readonly></td>
                            <td><input type="text" class="form-control form-control-sm custom-celda-bg" readonly></td>
                        </tr>
                        <tr>
                            <td class="table-sticky-col custom-header-ingr-bg border-1">Proyección Ventas(u)</td>
                            <td><input type="text" class="form-control form-control-sm" placeholder="999"></td>
                            <td><input type="text" class="form-control form-control-sm custom-celda-bg" readonly></td>
                            <td><input type="text" class="form-control form-control-sm custom-celda-bg" readonly></td>
                        </tr>
                        <tr>
                            <td class="table-sticky-col custom-header-ingr-bg border-1">Medio de Pago</td>
                            <td>
                                <button type="button" class="btn btn-outline-secondary btn-sm w-100" data-bs-toggle="modal" data-bs-target="#modalMediosPago">
                                    Medios Pago
                                </button>
                            </td>
                            <td><input type="text" class="form-control form-control-sm custom-celda-bg" readonly></td>
                            <td><input type="text" class="form-control form-control-sm custom-celda-bg" readonly></td>
                        </tr>
                        <tr>
                            <td class="table-sticky-col custom-header-cons-bg border-1">Precio Lista</td>
                            <td><input type="text" class="form-control form-control-sm" readonly value="$ 999.99"></td>
                            <td><input type="text" class="form-control form-control-sm custom-celda-bg" readonly value="$ 999.99"></td>
                            <td><input type="text" class="form-control form-control-sm custom-celda-bg" readonly value="$ 999.99"></td>
                        </tr>
                        <tr>
                            <td class="table-sticky-col custom-header-ingr-bg border-1">Precio Promo Contado</td>
                            <td><input type="text" class="form-control form-control-sm" placeholder="$ 999.99"></td>
                            <td><input type="text" class="form-control form-control-sm custom-celda-bg" readonly></td>
                            <td><input type="text" class="form-control form-control-sm custom-celda-bg" readonly></td>
                        </tr>
                        <tr>
                            <td class="table-sticky-col custom-header-ingr-bg border-1">Precio Promo TC</td>
                            <td><input type="text" class="form-control form-control-sm" placeholder="$ 999.99"></td>
                            <td><input type="text" class="form-control form-control-sm custom-celda-bg" readonly></td>
                            <td><input type="text" class="form-control form-control-sm custom-celda-bg" readonly></td>
                        </tr>
                        <tr>
                            <td class="table-sticky-col custom-header-ingr-bg border-1">Precio Promo Crédito</td>
                            <td><input type="text" class="form-control form-control-sm" placeholder="$ 999.99"></td>
                            <td><input type="text" class="form-control form-control-sm custom-celda-bg" readonly></td>
                            <td><input type="text" class="form-control form-control-sm custom-celda-bg" readonly></td>
                        </tr>
                        <tr>
                            <td class="table-sticky-col custom-header-calc-bg border-1">Descuento Contado</td>
                            <td><input type="text" class="form-control form-control-sm" placeholder="$ 99.99"></td>
                            <td><input type="text" class="form-control form-control-sm custom-celda-bg" readonly></td>
                            <td><input type="text" class="form-control form-control-sm custom-celda-bg" readonly></td>
                        </tr>
                        <tr>
                            <td class="table-sticky-col custom-header-calc-bg border-1">Descuento TC</td>
                            <td><input type="text" class="form-control form-control-sm" placeholder="$ 99.99"></td>
                            <td><input type="text" class="form-control form-control-sm custom-celda-bg" readonly></td>
                            <td><input type="text" class="form-control form-control-sm custom-celda-bg" readonly></td>
                        </tr>
                        <tr>
                            <td class="table-sticky-col custom-header-calc-bg border-1">Descuento Crédito</td>
                            <td><input type="text" class="form-control form-control-sm" placeholder="$ 99.99"></td>
                            <td><input type="text" class="form-control form-control-sm custom-celda-bg" readonly></td>
                            <td><input type="text" class="form-control form-control-sm custom-celda-bg" readonly></td>
                        </tr>
                        <tr>
                            <td class="table-sticky-col custom-header-ingr-bg border-1">Aporte Proveedor</td>
                            <td><input type="text" class="form-control form-control-sm custom-celda-bg" readonly></td>
                            <td><input type="text" class="form-control form-control-sm" placeholder="$ 999.99"></td>
                            <td><input type="text" class="form-control form-control-sm" placeholder="$ 999.99"></td>
                        </tr>
                        <tr>
                            <td class="table-sticky-col custom-header-ingr-bg border-1">Aporte Prov. ID Acuerdo</td>
                            <td><input type="text" class="form-control form-control-sm custom-celda-bg" readonly></td>
                            <td>
                                <div class="input-group input-group-sm">
                                    <input type="text" class="form-control" placeholder="PROV999">
                                    <button class="btn btn-outline-secondary" type="button"><img src="~/img/ico/search.svg" alt="Buscar"></button>
                                </div>
                            </td>
                            <td>
                                <div class="input-group input-group-sm">
                                    <input type="text" class="form-control" placeholder="PROV999">
                                    <button class="btn btn-outline-secondary" type="button"><img src="~/img/ico/search.svg" alt="Buscar"></button>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td class="table-sticky-col custom-header-calc-bg border-1">Regalo</td>
                            <td class="text-center">
                                <input class="form-check-input" type="checkbox">
                            </td>
                            <td><input type="text" class="form-control form-control-sm custom-celda-bg" readonly></td>
                            <td><input type="text" class="form-control form-control-sm custom-celda-bg" readonly></td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <hr class="mt-3 mb-1" />

    <div class="col-12">
        <button type="button" class="btn btn-secondary" id="btnCancelarCombos">Cancelar</button>
        <button type="button" class="btn btn-primary" id="btnGuardarPromocionCombos">Grabar</button>
    </div>
</form>

<!-- ========================================================= -->
<!-- MODAL CONSULTA ITEMS -->
<!-- ========================================================= -->
<div class="modal fade" id="modalConsultaItems" tabindex="-1" aria-labelledby="modalConsultaItemsLabel" aria-hidden="true">
    <div class="modal-dialog modal-xl modal-dialog-scrollable">
        <div class="modal-content">
            <div class="modal-header">
                <h1 class="modal-title fs-5" id="modalConsultaItemsLabel">Consulta de Items</h1>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <!-- Criterios de Selección -->
                <div class="row m-2">
                    <div class="card border-secondary p-0">
                        <div class="card-header">Criterios de Selección</div>
                        <div class="card-body">
                            <form class="row g-2">
                                <div class="col-md-3">
                                    <label class="form-label fw-bold col-form-label-sm text-center d-block">Marca</label>
                                    <div class="border rounded p-2" style="height: 100px; overflow-y: auto; background-color: #f8f9fa;">
                                        <div class="form-check">
                                            <input class="form-check-input" type="checkbox" id="todasMarcasModal" checked>
                                            <label class="form-check-label fw-bold" for="todasMarcasModal">Todas</label>
                                        </div>
                                        <hr class="my-1">
                                        <div id="filtroMarcaModal">
                                            <div class="form-check"><input class="form-check-input" type="checkbox" value="Marca 1"><label class="form-check-label">Marca 1</label></div>
                                            <div class="form-check"><input class="form-check-input" type="checkbox" value="Marca 2"><label class="form-check-label">Marca 2</label></div>
                                            <div class="form-check"><input class="form-check-input" type="checkbox" value="Marca 3"><label class="form-check-label">Marca 3</label></div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-3">
                                    <label class="form-label fw-bold col-form-label-sm text-center d-block">División</label>
                                    <div class="border rounded p-2" style="height: 100px; overflow-y: auto; background-color: #f8f9fa;">
                                        <div class="form-check">
                                            <input class="form-check-input" type="checkbox" id="todasDivisionesModal" checked>
                                            <label class="form-check-label fw-bold" for="todasDivisionesModal">Todas</label>
                                        </div>
                                        <hr class="my-1">
                                        <div id="filtroDivisionModal">
                                            <div class="form-check"><input class="form-check-input" type="checkbox" value="División 1"><label class="form-check-label">División 1</label></div>
                                            <div class="form-check"><input class="form-check-input" type="checkbox" value="División 2"><label class="form-check-label">División 2</label></div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-2">
                                    <label class="form-label fw-bold col-form-label-sm text-center d-block">Departamento</label>
                                    <div class="border rounded p-2" style="height: 100px; overflow-y: auto; background-color: #f8f9fa;">
                                        <div class="form-check">
                                            <input class="form-check-input" type="checkbox" id="todosDeptosModal" checked>
                                            <label class="form-check-label fw-bold" for="todosDeptosModal">Todos</label>
                                        </div>
                                        <hr class="my-1">
                                        <div id="filtroDepartamentoModal">
                                            <div class="form-check"><input class="form-check-input" type="checkbox" value="Depto 1"><label class="form-check-label">Depto 1</label></div>
                                            <div class="form-check"><input class="form-check-input" type="checkbox" value="Depto 2"><label class="form-check-label">Depto 2</label></div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-2">
                                    <label class="form-label fw-bold col-form-label-sm text-center d-block">Clase</label>
                                    <div class="border rounded p-2" style="height: 100px; overflow-y: auto; background-color: #f8f9fa;">
                                        <div class="form-check">
                                            <input class="form-check-input" type="checkbox" id="todasClasesModal" checked>
                                            <label class="form-check-label fw-bold" for="todasClasesModal">Todas</label>
                                        </div>
                                        <hr class="my-1">
                                        <div id="filtroClaseModal">
                                            <div class="form-check"><input class="form-check-input" type="checkbox" value="Clase 1"><label class="form-check-label">Clase 1</label></div>
                                            <div class="form-check"><input class="form-check-input" type="checkbox" value="Clase 2"><label class="form-check-label">Clase 2</label></div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-2">
                                    <label class="form-label fw-bold col-form-label-sm text-center d-block">Artículo</label>
                                    <input type="text" id="filtroArticuloModal" class="form-control form-control-sm" placeholder="Buscar...">
                                </div>
                                <div class="col-12 mt-2">
                                    <button type="button" id="btnProcesarFiltrosModal" class="btn btn-secondary btn-sm w-100">
                                        <i class="fa-solid fa-filter"></i> Procesar Selección
                                    </button>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>

                <!-- Checkbox Todos + Buscar -->
                <div class="row m-2">
                    <div class="d-flex align-items-center mt-2">
                        <div class="form-check form-check-sm">
                            <input class="form-check-input" type="checkbox" id="checkTodosItemsModal" checked>
                            <label class="form-check-label" for="checkTodosItemsModal">Todos</label>
                        </div>
                        <div class="flex-grow-1"></div>
                        <input type="text" class="form-control w-25" id="buscarItemModal" placeholder="Buscar...">
                    </div>
                </div>

                <!-- Tabla Items -->
                <div class="row m-2">
                    <div class="table-responsive small p-1 border border-secondary" style="max-height: 300px; overflow-y: auto;">
                        <table id="tablaItemsModal" class="table table-hover table-bordered w-100">
                            <thead class="sticky-top table-success text-nowrap">
                                <tr>
                                    <th>Sel</th>
                                    <th>Código</th>
                                    <th>Descripción</th>
                                    <th>Costo</th>
                                    <th>Stock</th>
                                    <th>Óptimo</th>
                                    <th>Excedente(u)</th>
                                    <th>Excedente($)</th>
                                    <th>M-0(u)</th>
                                    <th>M-0($)</th>
                                    <th>M-1(u)</th>
                                    <th>M-1($)</th>
                                    <th>M-2(u)</th>
                                    <th>M-2($)</th>
                                    <th>Marg.Efe</th>
                                    <th>Marg.Cre</th>
                                    <th>Marg.Igu</th>
                                    <th>Precio</th>
                                    <th>Marg.Precio</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td class="text-center"><input type="checkbox" class="form-check-input item-checkbox-modal" checked></td>
                                    <td>123</td>
                                    <td>TV 65 Samsung 4K</td>
                                    <td class="text-end">$ 1,400.00</td>
                                    <td class="text-center">400</td>
                                    <td class="text-center">300</td>
                                    <td class="text-center">100</td>
                                    <td class="text-end">$ 140,000.00</td>
                                    <td class="text-center">75</td>
                                    <td class="text-end">$ 2,000.00</td>
                                    <td class="text-center">50</td>
                                    <td class="text-end">$ 2,100.00</td>
                                    <td class="text-center">40</td>
                                    <td class="text-end">$ 2,200.00</td>
                                    <td class="text-center">15%</td>
                                    <td class="text-center">16%</td>
                                    <td class="text-center">14%</td>
                                    <td class="text-end">$ 2,200.00</td>
                                    <td class="text-center">36%</td>
                                </tr>
                                <tr>
                                    <td class="text-center"><input type="checkbox" class="form-check-input item-checkbox-modal" checked></td>
                                    <td>126</td>
                                    <td>TV 55 Samsung 4K</td>
                                    <td class="text-end">$ 1,200.00</td>
                                    <td class="text-center">350</td>
                                    <td class="text-center">250</td>
                                    <td class="text-center">100</td>
                                    <td class="text-end">$ 120,000.00</td>
                                    <td class="text-center">60</td>
                                    <td class="text-end">$ 1,800.00</td>
                                    <td class="text-center">45</td>
                                    <td class="text-end">$ 1,900.00</td>
                                    <td class="text-center">35</td>
                                    <td class="text-end">$ 2,000.00</td>
                                    <td class="text-center">18%</td>
                                    <td class="text-center">19%</td>
                                    <td class="text-center">17%</td>
                                    <td class="text-end">$ 1,999.00</td>
                                    <td class="text-center">38%</td>
                                </tr>
                                <tr>
                                    <td class="text-center"><input type="checkbox" class="form-check-input item-checkbox-modal"></td>
                                    <td>128</td>
                                    <td>TV 70 Samsung 4K</td>
                                    <td class="text-end">$ 1,800.00</td>
                                    <td class="text-center">200</td>
                                    <td class="text-center">150</td>
                                    <td class="text-center">50</td>
                                    <td class="text-end">$ 90,000.00</td>
                                    <td class="text-center">30</td>
                                    <td class="text-end">$ 2,500.00</td>
                                    <td class="text-center">25</td>
                                    <td class="text-end">$ 2,600.00</td>
                                    <td class="text-center">20</td>
                                    <td class="text-end">$ 2,700.00</td>
                                    <td class="text-center">12%</td>
                                    <td class="text-center">13%</td>
                                    <td class="text-center">11%</td>
                                    <td class="text-end">$ 2,799.00</td>
                                    <td class="text-center">32%</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cerrar</button>
                <button type="button" class="btn btn-primary" id="btnSeleccionarItemsModal">Seleccionar</button>
            </div>
        </div>
    </div>
</div>

<!-- ========================================================= -->
<!-- MODAL CONSULTA ACUERDOS -->
<!-- ========================================================= -->
<div class="modal fade" id="modalConsultaAcuerdos" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered modal-xl">
        <div class="modal-content">
            <div class="modal-header">
                <h1 class="modal-title fs-5">Consulta de Acuerdos</h1>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <div class="d-flex justify-content-between align-items-center mb-2">
                    <span class="fw-semibold">Seleccione un Acuerdo</span>
                    <input type="text" class="form-control form-control-sm" placeholder="Buscar..." style="width: 250px;">
                </div>
                <div class="table-responsive border rounded" style="max-height: 350px; overflow-y: auto;">
                    <table class="table table-hover table-sm table-bordered mb-0">
                        <thead class="table-success sticky-top">
                            <tr class="text-nowrap">
                                <th class="text-center">Sel.</th>
                                <th>ID Acuerdo</th>
                                <th>Descripción</th>
                                <th>Proveedor</th>
                                <th class="text-end">$ Disponible</th>
                                <th>Fecha Inicio</th>
                                <th>Fecha Fin</th>
                                <th>Estado</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td class="text-center"><input type="radio" class="form-check-input" name="selectAcuerdo"></td>
                                <td>APR001</td>
                                <td>Acuerdo Promocional MABE</td>
                                <td>Industrias MABE S.A</td>
                                <td class="text-end">$ 50,000.00</td>
                                <td>01/01/2025</td>
                                <td>31/12/2025</td>
                                <td>Activo</td>
                            </tr>
                            <tr>
                                <td class="text-center"><input type="radio" class="form-check-input" name="selectAcuerdo"></td>
                                <td>APR002</td>
                                <td>Acuerdo Samsung 2025</td>
                                <td>Samsung Electronics</td>
                                <td class="text-end">$ 75,000.00</td>
                                <td>15/01/2025</td>
                                <td>15/06/2025</td>
                                <td>Activo</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cerrar</button>
                <button type="button" class="btn btn-primary">Aceptar</button>
            </div>
        </div>
    </div>
</div>

<!-- ========================================================= -->
<!-- MODAL CLIENTES ESPECÍFICOS -->
<!-- ========================================================= -->
<div class="modal fade" id="modalClientesEspecificos" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable">
        <div class="modal-content">
            <div class="modal-header">
                <h1 class="modal-title fs-5">Lista Específica de Clientes</h1>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <div class="row m-2">
                    <div class="col-1 p-0">
                        <input class="form-check-input" type="checkbox" id="chkSeleccionaFile">
                    </div>
                    <div class="col-10 p-0">
                        <div class="input-group input-group-sm">
                            <label class="btn btn-secondary" for="inputFileClientes">Buscar Archivo</label>
                            <input type="file" class="form-control d-none" id="inputFileClientes" disabled>
                            <span class="form-control" id="fileNameClientes">Ningún archivo seleccionado</span>
                        </div>
                    </div>
                    <div class="col-1 p-0">
                        <button type="button" class="btn btn-outline-dark btn-sm border-0" id="btnUploadClientes" disabled>
                            <img src="~/img/ico/upload.svg" alt="Upload">
                        </button>
                    </div>
                </div>
                <div class="input-group mt-2">
                    <textarea class="form-control" style="height: 250px" id="txtListaClientes" placeholder="Ingrese los códigos de cliente separados por coma o salto de línea..."></textarea>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cerrar</button>
                <button type="button" class="btn btn-primary" data-bs-dismiss="modal">Aceptar</button>
            </div>
        </div>
    </div>
</div>

<!-- ========================================================= -->
<!-- MODAL MEDIOS DE PAGO -->
<!-- ========================================================= -->
<div class="modal fade" id="modalMediosPago" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h1 class="modal-title fs-5">Medios de Pago</h1>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <div class="form-check form-switch">
                    <input class="form-check-input" type="checkbox" id="mpEfectivo" checked>
                    <label class="form-check-label" for="mpEfectivo">Efectivo</label>
                </div>
                <div class="form-check form-switch">
                    <input class="form-check-input" type="checkbox" id="mpCreditoDirecto" checked>
                    <label class="form-check-label" for="mpCreditoDirecto">Crédito Directo</label>
                </div>
                <div class="form-check form-switch">
                    <input class="form-check-input" type="checkbox" id="mpVisaPlatinium" checked>
                    <label class="form-check-label" for="mpVisaPlatinium">Visa Platinium</label>
                </div>
                <div class="form-check form-switch">
                    <input class="form-check-input" type="checkbox" id="mpMastercardBlack" checked>
                    <label class="form-check-label" for="mpMastercardBlack">Mastercard Black</label>
                </div>
                <div class="form-check form-switch">
                    <input class="form-check-input" type="checkbox" id="mpDiners">
                    <label class="form-check-label" for="mpDiners">Diners</label>
                </div>
                <div class="form-check form-switch">
                    <input class="form-check-input" type="checkbox" id="mpAmex">
                    <label class="form-check-label" for="mpAmex">American Express</label>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cerrar</button>
                <button type="button" class="btn btn-primary" data-bs-dismiss="modal">Aceptar</button>
            </div>
        </div>
    </div>
</div>

<!-- ========================================================= -->
<!-- MODAL EQUIVALENTES -->
<!-- ========================================================= -->
<div class="modal fade" id="modalEquivalentes" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h1 class="modal-title fs-5">Equivalentes Artefacta</h1>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <p class="text-muted">Listado de productos equivalentes...</p>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cerrar</button>
            </div>
        </div>
    </div>
</div>

<!-- ========================================================= -->
<!-- MODAL PRECIOS COMPETENCIA -->
<!-- ========================================================= -->
<div class="modal fade" id="modalPreciosCompetencia" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h1 class="modal-title fs-5">Precios de Competencia</h1>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <p class="text-muted">Comparativa de precios con la competencia...</p>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cerrar</button>
            </div>
        </div>
    </div>
</div>

<!-- ========================================================= -->
<!-- MODAL OTROS COSTOS -->
<!-- ========================================================= -->
<div class="modal fade" id="modalOtrosCostos" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h1 class="modal-title fs-5">Considerar Otros Costos</h1>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <div class="form-check">
                    <input class="form-check-input" type="checkbox" id="costoEnsamble">
                    <label class="form-check-label" for="costoEnsamble">Ensamble $60</label>
                </div>
                <div class="form-check">
                    <input class="form-check-input" type="checkbox" id="costoMatricula" checked>
                    <label class="form-check-label" for="costoMatricula">Matrícula $50</label>
                </div>
                <div class="form-check">
                    <input class="form-check-input" type="checkbox" id="costoInstalacion">
                    <label class="form-check-label" for="costoInstalacion">Instalación $30</label>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cerrar</button>
            </div>
        </div>
    </div>
</div>

<!-- Autor: JEAN FRANCOIS CALDERON VEAS | Empresa: BMTECSA | Proyecto: SOFTWARE APL -->
