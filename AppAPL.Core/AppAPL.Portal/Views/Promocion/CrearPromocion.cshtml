@{
    ViewData["Title"] = "Creación de Promoción";
    var usuarioActual = ViewBag.UsuarioActual as string;
}

@section Scripts {
    <script>
        window.usuarioActual = '@usuarioActual';
    </script>

    <script src="~/js/jquery-3.7.1.min.js" asp-append-version="true"></script>

    <link rel="stylesheet" href="https://code.jquery.com/ui/1.13.3/themes/base/jquery-ui.css">
    <script src="https://code.jquery.com/ui/1.13.3/jquery-ui.min.js"></script>

    <script src="https://code.jquery.com/ui/1.13.3/i18n/datepicker-es.js"></script>

    <script src="~/js/datatables.min.js" asp-append-version="true"></script>

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css"
          crossorigin="anonymous" referrerpolicy="no-referrer" />

    <script src="~/js/Promocion/CrearPromocion.js" asp-append-version="true"></script>

    <style>
        .ui-datepicker {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            font-size: 0.9rem;
            z-index: 1056 !important;
        }

        .detalle-header {
            background-color: #343a40;
            color: white;
            padding: 8px 15px;
            text-align: center;
            font-weight: bold;
            font-size: 1.1rem;
            margin-top: 15px;
            border-radius: 4px;
        }

        .tabla-items-header th {
            background-color: #a4c995;
            color: #343a40;
            font-weight: bold;
            vertical-align: middle;
            text-align: center;
            border: 1px solid #dee2e6;
        }

        /* Cabeceras Consulta/Solo Lectura - Verde */
        .custom-header-cons-bg {
            background-color: #a4c995 !important;
            color: #343a40 !important;
        }

        /* Cabeceras Editables - Amarillo */
        .custom-header-ingr-bg {
            background-color: #FFEC99 !important;
            color: #343a40 !important;
        }

        /* Cabeceras de Cálculos - Naranja */
        .custom-header-calc-bg {
            background-color: #FFBF47 !important;
            color: #343a40 !important;
        }

        .tabla-items-body input[type="text"],
        .tabla-items-body input[type="number"] {
            text-align: right;
            padding: 0.25rem 0.5rem;
            font-size: 0.875rem;
            height: 28px;
            border: 1px solid #ced4da;
            border-radius: 0.2rem;
        }

        .custom-celda-bg {
            background-color: rgba(140, 140, 140, 0.15) !important;
        }

        /* Estilos para select múltiple */
        .filtro-container {
            cursor: pointer;
        }

        .form-select option:checked {
            background-color: #198754 !important;
            color: white !important;
            font-weight: bold;
        }

        /* Modal ajustes */
        #modalConsultaItems .modal-body {
            padding-top: 0 !important;
            padding-bottom: 0 !important;
        }

        #modalConsultaItems .table-responsive {
            max-height: 350px;
            overflow-y: auto;
        }

        /* Tabla sticky column */
        .table-sticky-col {
            position: sticky;
            left: 0;
            background-color: #fff;
            z-index: 1;
        }

        thead .table-sticky-col {
            z-index: 2;
        }
    </style>
}

<div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-2 pb-1 mb-2 border-bottom">
    <h1 class="h4">Promoción - Creación</h1>
</div>

<div class="col-md-12 mb-3">
    <label for="promocionTipo" class="form-label fw-bold col-form-label-sm">Clase de Promoción</label>
    <select id="promocionTipo" class="form-select form-select-sm">
        <option value="">Cargando...</option>
    </select>
</div>

<hr />

<form id="formGeneral" class="row g-2">

    <input type="hidden" id="fondoProveedorIdGeneral">
    <input type="hidden" id="fondoDisponibleHiddenGeneral">
    <input type="hidden" id="fondoDisponibleGeneral">

    <div class="col-md-3 text-center">
        <label for="descripcionGeneral" class="form-label fw-bold col-form-label-sm">Descripción</label>
        <input type="text" class="form-control form-control-sm" id="descripcionGeneral" placeholder="Ingrese Descripción">
    </div>

    <div class="col-md-3 text-center">
        <label for="motivoGeneral" class="form-label fw-bold col-form-label-sm">Motivo</label>
        <select id="motivoGeneral" class="form-select form-select-sm">
            <option value="">Cargando...</option>
        </select>
    </div>

    <div class="col-md-3 text-center">
        <label class="form-label fw-bold col-form-label-sm">Inicio: Fecha - Hora</label>
        <div class="input-group input-group-sm">
            <input type="text" class="form-control form-control-sm" id="fechaInicioGeneral" placeholder="dd/mm/aaaa" style="max-width: 55%;">
            <input type="time" class="form-control form-control-sm" id="timeInicioGeneral" value="00:00">
            <button class="btn btn-outline-secondary" type="button"><i class="fa-regular fa-calendar"></i></button>
        </div>
    </div>

    <div class="col-md-3 text-center">
        <label class="form-label fw-bold col-form-label-sm">Fin: Fecha - Hora</label>
        <div class="input-group input-group-sm">
            <input type="text" class="form-control form-control-sm" id="fechaFinGeneral" placeholder="dd/mm/aaaa" style="max-width: 55%;">
            <input type="time" class="form-control form-control-sm" id="timeFinGeneral" value="23:59">
            <button class="btn btn-outline-secondary" type="button"><i class="fa-regular fa-calendar"></i></button>
        </div>
    </div>

    <div class="col-md-3 text-center">
        <label for="filtroMarcaGeneral" class="form-label fw-bold col-form-label-sm">Marca</label>
        <select id="filtroMarcaGeneral" class="form-select form-select-sm" size="3" multiple>
            <option selected>Cargando...</option>
        </select>
    </div>
    <div class="col-md-3 text-center">
        <label for="filtroDivisionGeneral" class="form-label fw-bold col-form-label-sm">División</label>
        <select id="filtroDivisionGeneral" class="form-select form-select-sm" size="3" multiple>
            <option selected>Cargando...</option>
        </select>
    </div>
    <div class="col-md-3 text-center">
        <label for="filtroDepartamentoGeneral" class="form-label fw-bold col-form-label-sm">Departamento</label>
        <select id="filtroDepartamentoGeneral" class="form-select form-select-sm" size="3" multiple>
            <option selected>Cargando...</option>
        </select>
    </div>
    <div class="col-md-3 text-center">
        <label for="filtroClaseGeneral" class="form-label fw-bold col-form-label-sm">Clase</label>
        <select id="filtroClaseGeneral" class="form-select form-select-sm" size="3" multiple>
            <option selected>Cargando...</option>
        </select>
    </div>

    <div class="col-md-2 text-center">
        <label for="articuloGeneral" class="form-label fw-bold col-form-label-sm">Artículo</label>
        <div class="input-group input-group-sm">
            <div class="input-group-text">
                <input class="form-check-input mt-0" type="checkbox" id="chkArticuloGeneral">
            </div>
            <input type="text" class="form-control" id="articuloGeneral" disabled placeholder="Cod. Artículo">
        </div>
    </div>

    <div class="col-md-2 text-center">
        <label for="filtroCanalGeneral" class="form-label fw-bold col-form-label-sm">Canal</label>
        <div class="input-group input-group-sm">
            <button id="btnCanalGeneral" class="btn btn-outline-secondary d-none" type="button" data-bs-toggle="modal" data-bs-target="#ModalCanal">
                <i class="fa-solid fa-list-check"></i>
            </button>
            <select class="form-select" id="filtroCanalGeneral">
                <option value="0" selected>Todos</option>
                <option value="1">Tienda Local</option>
                <option value="2">Tienda Virtual</option>
                <option value="3">Varios</option>
            </select>
        </div>
    </div>

    <div class="col-md-2 text-center">
        <label for="filtroGrupoAlmacenGeneral" class="form-label fw-bold col-form-label-sm">Grupo Almacén</label>
        <div class="input-group input-group-sm">
            <button id="btnGrupoAlmacenGeneral" class="btn btn-outline-secondary d-none" type="button" data-bs-toggle="modal" data-bs-target="#ModalGrupoAlmacen">
                <i class="fa-solid fa-list-check"></i>
            </button>
            <select class="form-select" id="filtroGrupoAlmacenGeneral">
                <option value="0" selected>Todos</option>
                <option value="1">Grupo 1</option>
                <option value="2">Grupo 2</option>
                <option value="3">Varios</option>
            </select>
        </div>
    </div>

    <div class="col-md-2 text-center">
        <label for="filtroAlmacenGeneral" class="form-label fw-bold col-form-label-sm">Almacén</label>
        <div class="input-group input-group-sm">
            <button id="btnAlmacenGeneral" class="btn btn-outline-secondary d-none" type="button" data-bs-toggle="modal" data-bs-target="#ModalAlmacen">
                <i class="fa-solid fa-list-check"></i>
            </button>
            <select class="form-select" id="filtroAlmacenGeneral">
                <option value="0" selected>Todos</option>
                <option value="1">Almacén 1</option>
                <option value="2">Almacén 2</option>
                <option value="3">Varios</option>
            </select>
        </div>
    </div>

    <div class="col-md-2 text-center">
        <label for="tipoClienteGeneral" class="form-label fw-bold col-form-label-sm">Tipo de Cliente</label>
        <div class="input-group input-group-sm">
            <button id="btnListaClienteGeneral" class="btn btn-outline-secondary d-none" type="button" data-bs-toggle="modal" data-bs-target="#ModalClientesEspecificos">
                <i class="fa-solid fa-list-check"></i>
            </button>
            <select class="form-select" id="tipoClienteGeneral">
                <option value="0" selected>Todos</option>
                <option value="1">Especiales</option>
                <option value="2">Frecuentes</option>
                <option value="3">Lista Específica</option>
            </select>
        </div>
    </div>

    <div class="col-md-2 text-center">
        <label for="filtroMedioPagoGeneral" class="form-label fw-bold col-form-label-sm">Medio Pago</label>
        <div class="input-group input-group-sm">
            <button id="btnMedioPagoGeneral" class="btn btn-outline-secondary d-none" type="button" data-bs-toggle="modal" data-bs-target="#ModalMedioPago">
                <i class="fa-solid fa-list-check"></i>
            </button>
            <select class="form-select" id="filtroMedioPagoGeneral">
                <option value="0" selected>Todos</option>
                <option value="1">Efectivo</option>
                <option value="2">Visa Platinium</option>
                <option value="3">Mastercard Pacificard</option>
                <option value="4">Crédito Directo</option>
                <option value="5">Diners</option>
                <option value="6">American Express</option>
                <option value="7">Varios</option>
            </select>
        </div>
    </div>

    <div class="col-md-1 text-center">
        <label for="descuentoProveedorGeneral" class="form-label fw-bold col-form-label-sm">% Dscto Prov.</label>
        <input type="text" class="form-control form-control-sm text-end" id="descuentoProveedorGeneral" placeholder="0.00%">
    </div>

    <div class="col-md-2 text-center">
        <label for="fondoProveedorGeneral" class="form-label fw-bold col-form-label-sm">ID Acuerdo Proveedor</label>
        <div class="input-group input-group-sm">
            <input type="text" class="form-control" id="fondoProveedorGeneral" placeholder="Seleccione..." readonly>
            <button class="btn btn-outline-secondary" type="button" data-bs-toggle="modal" data-bs-target="#modalConsultaProveedor">
                <i class="fa-solid fa-magnifying-glass"></i>
            </button>
        </div>
    </div>

    <div class="col-md-2 text-center">
        <label for="fondoValorTotalGeneral" class="form-label fw-bold col-form-label-sm">$ Comprometido Prov.</label>
        <input type="text" class="form-control form-control-sm text-end" id="fondoValorTotalGeneral" placeholder="0.00">
    </div>

    <div class="col-md-1 text-center">
        <label for="descuentoPropioGeneral" class="form-label fw-bold col-form-label-sm">% Dscto Prop</label>
        <input type="text" class="form-control form-control-sm text-end" id="descuentoPropioGeneral" placeholder="0.00%">
    </div>

    <div class="col-md-2 text-center">
        <label for="acuerdoPropioGeneral" class="form-label fw-bold col-form-label-sm">ID Acuerdo Propio</label>
        <div class="input-group input-group-sm">
            <input type="text" class="form-control" id="acuerdoPropioGeneral" placeholder="APR999 - Propio" readonly>
            <button class="btn btn-outline-secondary" type="button">
                <i class="fa-solid fa-magnifying-glass"></i>
            </button>
        </div>
    </div>

    <div class="col-md-2 text-center">
        <label for="comprometidoPropioGeneral" class="form-label fw-bold col-form-label-sm">$ Comprometido Propio</label>
        <input type="text" class="form-control form-control-sm text-end" id="comprometidoPropioGeneral" placeholder="0.00">
    </div>

    <div class="col-md-1 text-center">
        <label for="descuentoTotalGeneral" class="form-label fw-bold col-form-label-sm">% Dscto Total</label>
        <input type="text" class="form-control form-control-sm text-end" id="descuentoTotalGeneral" placeholder="0.00%" disabled>
    </div>

    <div class="col-md-1 text-center">
        <label for="regaloGeneral" class="form-label fw-bold col-form-label-sm">Regalo</label>
        <div class="form-check d-flex justify-content-center align-items-center">
            <input class="form-check-input" type="checkbox" id="regaloGeneral">
        </div>
    </div>

    <div class="col-md-12 text-center mt-3">
        <label for="inputGroupFile24" class="form-label fw-bold col-form-label-sm">Adjuntar Documento Soporte</label>
        <div class="col-12 p-0">
            <div class="input-group input-group-sm">
                <label class="btn btn-secondary" for="inputGroupFile24">Buscar Archivo</label>
                <input type="file" class="form-control d-none" id="inputGroupFile24" onchange="document.getElementById('fileName').textContent = this.files[0] ? this.files[0].name : 'Ningún archivo seleccionado'">
                <span class="form-control" id="fileName">Ningún archivo seleccionado</span>
            </div>
        </div>
    </div>

    <div class="col-12 mt-4 border-top pt-3">
        <button type="button" class="btn btn-primary" id="btnGuardarPromocionGeneral">Grabar</button>
        <button type="button" class="btn btn-secondary" id="btnCancelarGeneral">Cancelar</button>
    </div>
</form>

<div class="modal fade" id="ModalCanal" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable">
        <div class="modal-content">
            <div class="modal-header"><h1 class="modal-title fs-5">Lista de Canales</h1><button type="button" class="btn-close" data-bs-dismiss="modal"></button></div>
            <div class="modal-body">
                <div class="row m-2">
                    <ul class="list-group">
                        <li class="list-group-item"><input class="form-check-input me-1" type="checkbox"><label class="form-check-label">Tienda Local</label></li>
                        <li class="list-group-item"><input class="form-check-input me-1" type="checkbox"><label class="form-check-label">Tienda Virtual</label></li>
                        <li class="list-group-item"><input class="form-check-input me-1" type="checkbox"><label class="form-check-label">Tienda Móvil</label></li>
                    </ul>
                </div>
            </div>
            <div class="modal-footer"><button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cerrar</button><button type="button" class="btn btn-primary">Aceptar</button></div>
        </div>
    </div>
</div>

<div class="modal fade" id="ModalClientesEspecificos" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable">
        <div class="modal-content">
            <div class="modal-header">
                <h1 class="modal-title fs-5">Lista Específica de Clientes</h1>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <div class="row m-2 align-items-center">
                    <div class="col-1 p-0">
                        <input class="form-check-input" type="checkbox" id="chkSeleccionaFile">
                    </div>
                    <div class="col-10 p-0">
                        <div class="input-group input-group-sm">
                            <label class="btn btn-secondary" for="inputFileClientes">Buscar Archivo</label>
                            <input type="file" class="form-control d-none" id="inputFileClientes" disabled>
                            <span class="form-control" id="fileNameClientes">Ningún archivo seleccionado</span>
                        </div>
                    </div>
                    <div class="col-1 p-0 text-end">
                        <button type="button" class="btn btn-outline-dark btn-sm border-0" id="btnUploadClientes" disabled>
                            <i class="fa-solid fa-upload"></i>
                        </button>
                    </div>
                </div>
                <div class="input-group mt-2">
                    <textarea class="form-control" style="height: 300px" id="txtListaClientes" placeholder="Ingrese códigos de cliente..."></textarea>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cerrar</button>
                <button type="button" class="btn btn-primary" data-bs-dismiss="modal">Aceptar</button>
            </div>
        </div>
    </div>
</div>

<div class="modal fade" id="ModalGrupoAlmacen" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable">
        <div class="modal-content">
            <div class="modal-header"><h1 class="modal-title fs-5">Grupos Almacenes</h1><button type="button" class="btn-close" data-bs-dismiss="modal"></button></div>
            <div class="modal-body"><div class="row m-2"><ul class="list-group"><li class="list-group-item"><input class="form-check-input me-1" type="checkbox"><label class="form-check-label">Grupo 1</label></li><li class="list-group-item"><input class="form-check-input me-1" type="checkbox"><label class="form-check-label">Grupo 2</label></li></ul></div></div>
            <div class="modal-footer"><button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cerrar</button><button type="button" class="btn btn-primary">Aceptar</button></div>
        </div>
    </div>
</div>

<div class="modal fade" id="ModalAlmacen" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable">
        <div class="modal-content">
            <div class="modal-header"><h1 class="modal-title fs-5">Almacenes</h1><button type="button" class="btn-close" data-bs-dismiss="modal"></button></div>
            <div class="modal-body"><div class="row m-2"><ul class="list-group"><li class="list-group-item"><input class="form-check-input me-1" type="checkbox"><label class="form-check-label">Almacen 1</label></li><li class="list-group-item"><input class="form-check-input me-1" type="checkbox"><label class="form-check-label">Almacen 2</label></li></ul></div></div>
            <div class="modal-footer"><button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cerrar</button><button type="button" class="btn btn-primary">Aceptar</button></div>
        </div>
    </div>
</div>

<form id="formArticulos" class="row g-1 mb-1 pb-1" style="display:none;">
    <div class="col-md-3">
        <label for="descripcionArticulos" class="form-label fw-bold col-form-label-sm">Descripción de la Promoción</label>
        <input type="text" class="form-control form-control-sm" id="descripcionArticulos" placeholder="Ingrese Descripción">
    </div>

    <div class="col-md-2">
        <label for="motivoArticulos" class="form-label fw-bold col-form-label-sm">Motivo</label>
        <select id="motivoArticulos" class="form-select form-select-sm">
            <option value="">Seleccione...</option>
            <option value="1">Excedente</option>
            <option value="2">Lenta Rotación</option>
            <option value="3">Día de la Madre</option>
            <option value="4">Día del Padre</option>
            <option value="5">Black Friday</option>
        </select>
    </div>

    <div class="col-md-2">
        <label for="fechaInicioArticulos" class="form-label fw-bold col-form-label-sm">Inicio: Fecha - Hora</label>
        <div class="input-group input-group-sm">
            <input id="fechaInicioArticulos" type="text" class="form-control form-control-sm" placeholder="dd/mm/aaaa">
            <button class="btn btn-outline-secondary" type="button" id="btnFechaInicioArticulos">
                <img src="~/img/ico/calendar2-week.svg" alt="Calendario">
            </button>
        </div>
    </div>

    <div class="col-md-2">
        <label for="fechaFinArticulos" class="form-label fw-bold col-form-label-sm">Fin: Fecha - Hora</label>
        <div class="input-group input-group-sm">
            <input id="fechaFinArticulos" type="text" class="form-control form-control-sm" placeholder="dd/mm/aaaa">
            <button class="btn btn-outline-secondary" type="button" id="btnFechaFinArticulos">
                <img src="~/img/ico/calendar2-week.svg" alt="Calendario">
            </button>
        </div>
    </div>

    <div class="col-md-3">
        <label class="form-label fw-bold col-form-label-sm">Canal</label>
        <select class="form-select form-select-sm" size="3" multiple id="filtroCanalArticulos">
            <option selected>Todos</option>
            <option>Tienda Local</option>
            <option>Tienda Virtual</option>
            <option>Móvil</option>
        </select>
    </div>

    <div class="col-md-3 mt-2">
        <label class="form-label fw-bold col-form-label-sm">Grupo Almacenes</label>
        <select class="form-select form-select-sm" size="3" multiple id="filtroGrupoAlmacenArticulos">
            <option selected>Todos</option>
            <option>Grupo 1</option>
            <option>Grupo 2</option>
        </select>
    </div>

    <div class="col-md-2 mt-2">
        <label class="form-label fw-bold col-form-label-sm">Almacén</label>
        <select class="form-select form-select-sm" size="3" multiple id="filtroAlmacenArticulos">
            <option selected>Todos</option>
            <option>Almacén 1</option>
            <option>Almacén 2</option>
        </select>
    </div>

    <div class="col-md-2 mt-2">
        <label class="form-label fw-bold col-form-label-sm">Tipo de Cliente</label>
        <div class="input-group input-group-sm">
            <button class="btn btn-outline-secondary" type="button" data-bs-toggle="modal" data-bs-target="#modalClientesEspecificos">
                <img src="~/img/ico/list-check.svg" alt="Lista">
            </button>
            <select class="form-select" id="tipoClienteArticulos">
                <option selected>Todos</option>
                <option value="1">Especiales</option>
                <option value="2">Frecuentes</option>
                <option value="3">Lista Específica</option>
            </select>
        </div>
    </div>

    <div class="col-12 mt-3">
        <div class="detalle-header">Detalle de los Artículos</div>

        <div class="d-flex align-items-center gap-3 pt-2 pb-1">
            <button id="btnAddItemArticulos" type="button" class="btn btn-outline-primary border-0 d-flex align-items-center gap-1"
                    data-bs-toggle="modal" data-bs-target="#modalConsultaItems">
                <i class="fa-regular fa-square-plus"></i> Añadir Item
            </button>
            <button id="btnDeleteItemArticulos" type="button" class="btn btn-outline-danger border-0 d-flex align-items-center gap-1">
                <i class="fa-regular fa-trash-can"></i> Eliminar
            </button>
            <button type="button" class="btn btn-outline-secondary border-0 d-flex align-items-center gap-1"
                    data-bs-toggle="modal" data-bs-target="#modalEquivalentes">
                <i class="fa-solid fa-arrows-left-right"></i> Equivalentes
            </button>
            <button type="button" class="btn btn-outline-secondary border-0 d-flex align-items-center gap-1"
                    data-bs-toggle="modal" data-bs-target="#modalPreciosCompetencia">
                <i class="fa-solid fa-tags"></i> Precios Competencia
            </button>
            <button type="button" class="btn btn-outline-secondary border-0 d-flex align-items-center gap-1"
                    data-bs-toggle="modal" data-bs-target="#modalOtrosCostos">
                <i class="fa-solid fa-coins"></i> Otros Costos
            </button>
        </div>

        <div class="col-12">
            <div class="table-responsive small border" style="height: 300px; overflow-x: auto;">
                <table class="table table-bordered table-sm">
                    <thead class="sticky-top text-nowrap">
                        <tr class="text-center tabla-items-header">
                            <th scope="col" class="table-sticky-col" style="min-width: 200px; background-color: #a4c995;">Artículo</th>
                            <th scope="col" class="custom-header-cons-bg">Costo</th>
                            <th scope="col" class="custom-header-cons-bg">Stock Bodega</th>
                            <th scope="col" class="custom-header-cons-bg">Stock Tienda</th>
                            <th scope="col" class="custom-header-cons-bg">Inv. Óptimo</th>
                            <th scope="col" class="custom-header-cons-bg">Excedente(u)</th>
                            <th scope="col" class="custom-header-cons-bg">Excedente($)</th>
                            <th scope="col" class="custom-header-cons-bg">Vta M-0(u)</th>
                            <th scope="col" class="custom-header-cons-bg">Vta M-0($)</th>
                            <th scope="col" class="custom-header-cons-bg">Vta M-1(u)</th>
                            <th scope="col" class="custom-header-cons-bg">Vta M-1($)</th>
                            <th scope="col" class="custom-header-cons-bg">Vta M-2(u)</th>
                            <th scope="col" class="custom-header-cons-bg">Vta M-2($)</th>
                            <th scope="col" class="custom-header-cons-bg">Vta Igualar</th>
                            <th scope="col" class="custom-header-cons-bg">Marg.Min Contado</th>
                            <th scope="col" class="custom-header-cons-bg">Marg.Min TC</th>
                            <th scope="col" class="custom-header-cons-bg">Marg.Min Crédito</th>
                            <th scope="col" class="custom-header-cons-bg">Marg.Min Igualar</th>
                            <th scope="col" class="custom-header-ingr-bg">Unidades Límite</th>
                            <th scope="col" class="custom-header-ingr-bg">Proyección Vtas(u)</th>
                            <th scope="col" class="custom-header-ingr-bg">Medio de Pago</th>
                            <th scope="col" class="custom-header-cons-bg">Precio Lista</th>
                            <th scope="col" class="custom-header-ingr-bg">Precio Promo Contado</th>
                            <th scope="col" class="custom-header-ingr-bg">Precio Promo TC</th>
                            <th scope="col" class="custom-header-ingr-bg">Precio Promo Crédito</th>
                            <th scope="col" class="custom-header-ingr-bg">Precio Igualar</th>
                            <th scope="col" class="custom-header-calc-bg">Dscto Promo Contado</th>
                            <th scope="col" class="custom-header-calc-bg">Dscto Promo TC</th>
                            <th scope="col" class="custom-header-calc-bg">Dscto Promo Crédito</th>
                            <th scope="col" class="custom-header-calc-bg">Dscto Igualar</th>
                            <th scope="col" class="custom-header-ingr-bg">Aporte Proveedor</th>
                            <th scope="col" class="custom-header-ingr-bg">Aporte Prov. ID Acuerdo</th>
                            <th scope="col" class="custom-header-ingr-bg">Aporte Rebate</th>
                            <th scope="col" class="custom-header-ingr-bg">Aporte Rebate ID Acuerdo</th>
                            <th scope="col" class="custom-header-ingr-bg">Aporte Propio</th>
                            <th scope="col" class="custom-header-ingr-bg">Aporte Propio ID Acuerdo</th>
                            <th scope="col" class="custom-header-cons-bg">Margen Precio Lista</th>
                            <th scope="col" class="custom-header-calc-bg">Margen Promo Contado</th>
                            <th scope="col" class="custom-header-calc-bg">Margen Promo TC</th>
                            <th scope="col" class="custom-header-calc-bg">Margen Promo Crédito</th>
                            <th scope="col" class="custom-header-calc-bg">Margen Igualar</th>
                            <th scope="col" class="custom-header-calc-bg">Comp. Proveedor</th>
                            <th scope="col" class="custom-header-calc-bg">Comp. Rebate</th>
                            <th scope="col" class="custom-header-calc-bg">Comp. Propio</th>
                            <th scope="col" class="custom-header-calc-bg">Regalo</th>
                        </tr>
                    </thead>
                    <tbody id="tablaArticulosBody" class="text-nowrap tabla-items-body">
                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <hr class="mt-3 mb-1" />

    <div class="col-12">
        <button type="button" class="btn btn-secondary" id="btnCancelarArticulos">Cancelar</button>
        <button type="button" class="btn btn-primary" id="btnGuardarPromocionArticulos">Grabar</button>
    </div>
</form>

<form id="formCombos" class="row g-1 mb-1 pb-1" style="display:none;">

    <div class="col-md-3">
        <label for="descripcionCombos" class="form-label fw-bold col-form-label-sm">Descripción de la Promoción</label>
        <input type="text" class="form-control form-control-sm" id="descripcionCombos" placeholder="Ingrese Descripción">
    </div>

    <div class="col-md-2">
        <label for="motivoCombos" class="form-label fw-bold col-form-label-sm">Motivo</label>
        <select id="motivoCombos" class="form-select form-select-sm">
            <option value="">Seleccione...</option>
            <option value="1">Excedente</option>
            <option value="2">Lenta Rotación</option>
            <option value="3">Día de la Madre</option>
            <option value="4">Día del Padre</option>
            <option value="5">Black Friday</option>
        </select>
    </div>

    <div class="col-md-2">
        <label for="fechaInicioCombos" class="form-label fw-bold col-form-label-sm">Inicio: Fecha - Hora</label>
        <div class="input-group input-group-sm">
            <input id="fechaInicioCombos" type="text" class="form-control form-control-sm" placeholder="dd/mm/aaaa">
            <button class="btn btn-outline-secondary" type="button" id="btnFechaInicioCombos">
                <img src="~/img/ico/calendar2-week.svg" alt="Calendario">
            </button>
        </div>
    </div>

    <div class="col-md-2">
        <label for="fechaFinCombos" class="form-label fw-bold col-form-label-sm">Fin: Fecha - Hora</label>
        <div class="input-group input-group-sm">
            <input id="fechaFinCombos" type="text" class="form-control form-control-sm" placeholder="dd/mm/aaaa">
            <button class="btn btn-outline-secondary" type="button" id="btnFechaFinCombos">
                <img src="~/img/ico/calendar2-week.svg" alt="Calendario">
            </button>
        </div>
    </div>

    <div class="col-md-3">
        <label class="form-label fw-bold col-form-label-sm">Canal</label>
        <select class="form-select form-select-sm" size="3" multiple id="filtroCanalCombos">
            <option selected>Todos</option>
            <option>Tienda Local</option>
            <option>Tienda Virtual</option>
            <option>Móvil</option>
        </select>
    </div>

    <div class="col-md-3 mt-2">
        <label class="form-label fw-bold col-form-label-sm">Grupo Almacenes</label>
        <select class="form-select form-select-sm" size="3" multiple id="filtroGrupoAlmacenCombos">
            <option selected>Todos</option>
            <option>Grupo 1</option>
            <option>Grupo 2</option>
        </select>
    </div>

    <div class="col-md-2 mt-2">
        <label class="form-label fw-bold col-form-label-sm">Almacén</label>
        <select class="form-select form-select-sm" size="3" multiple id="filtroAlmacenCombos">
            <option selected>Todos</option>
            <option>Almacén 1</option>
            <option>Almacén 2</option>
        </select>
    </div>

    <div class="col-md-2 text-center">
        <label for="tipoClienteGeneral" class="form-label fw-bold col-form-label-sm">Tipo de Cliente</label>
        <div class="input-group input-group-sm">
            <button id="btnListaClienteGeneral" class="btn btn-outline-secondary d-none" type="button" data-bs-toggle="modal" data-bs-target="#ModalClientesEspecificos">
                <i class="fa-solid fa-list-check"></i>
            </button>
            <select class="form-select" id="tipoClienteGeneral">
                <option value="0" selected>Todos</option>
                <option value="1">Especiales</option>
                <option value="2">Frecuentes</option>                
                <option value="3">Varios</option>
                <option value="4">Lista Específica</option>
            </select>
        </div>
    </div>

    <div class="col-12 mt-3">
        <div class="detalle-header">Detalle de los Combos</div>

        <div class="d-flex align-items-center gap-3 pt-2 pb-1">
            <button id="btnNuevoCombo" type="button" class="btn btn-outline-dark border-0 d-flex align-items-center gap-1">
                <i class="fa-regular fa-file"></i> Nuevo Combo
            </button>
            <button id="btnEliminarCombo" type="button" class="btn btn-outline-danger border-0 d-flex align-items-center gap-1">
                <i class="fa-regular fa-trash-can"></i> Eliminar Combo
            </button>
            <button id="btnModificarCombo" type="button" class="btn btn-outline-warning border-0 d-flex align-items-center gap-1">
                <i class="fa-regular fa-pen-to-square"></i> Modificar Combo
            </button>
        </div>

        <div class="col-12">
            <div class="table-responsive small border" style="height: 250px; overflow-x: auto;">
                <table class="table table-bordered table-sm">
                    <thead class="sticky-top text-nowrap">
                        <tr class="text-center tabla-items-header">
                            <th scope="col" class="table-sticky-col" style="min-width: 220px; background-color: #a4c995;">Combo</th>
                            <th scope="col" class="custom-header-cons-bg">Costo</th>
                            <th scope="col" class="custom-header-cons-bg">Stock Bodega</th>
                            <th scope="col" class="custom-header-cons-bg">Stock Tienda</th>
                            <th scope="col" class="custom-header-cons-bg">Inv. Óptimo</th>
                            <th scope="col" class="custom-header-cons-bg">Excedente(u)</th>
                            <th scope="col" class="custom-header-cons-bg">Excedente($)</th>
                            <th scope="col" class="custom-header-ingr-bg">Unidades Límite</th>
                            <th scope="col" class="custom-header-ingr-bg">Proyección Vtas(u)</th>
                            <th scope="col" class="custom-header-ingr-bg">Medio de Pago</th>
                            <th scope="col" class="custom-header-cons-bg">Precio Lista</th>
                            <th scope="col" class="custom-header-ingr-bg">Precio Promo Contado</th>
                            <th scope="col" class="custom-header-ingr-bg">Precio Promo TC</th>
                            <th scope="col" class="custom-header-ingr-bg">Precio Promo Crédito</th>
                            <th scope="col" class="custom-header-calc-bg">Dscto Promo Contado</th>
                            <th scope="col" class="custom-header-calc-bg">Dscto Promo TC</th>
                            <th scope="col" class="custom-header-calc-bg">Dscto Promo Crédito</th>
                            <th scope="col" class="custom-header-calc-bg">Margen Promo Contado</th>
                            <th scope="col" class="custom-header-calc-bg">Margen Promo TC</th>
                            <th scope="col" class="custom-header-calc-bg">Margen Promo Crédito</th>
                            <th scope="col" class="custom-header-calc-bg">Comp. Proveedor</th>
                            <th scope="col" class="custom-header-calc-bg">Comp. Rebate</th>
                            <th scope="col" class="custom-header-calc-bg">Comp. Propio</th>
                            <th scope="col" class="custom-header-calc-bg">Regalo</th>
                        </tr>
                    </thead>
                    <tbody id="tablaCombosBody" class="text-nowrap tabla-items-body">
                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <div class="collapse mt-3" id="seccionCrearCombo">
        <div class="col-12 text-center border bg-dark bg-opacity-75 text-white fw-bold py-2">
            Creación del Combo
        </div>

        <div class="col-12 border mt-1 p-2">
            <div class="row mb-2">
                <div class="col-2">
                    <div class="input-group input-group-sm">
                        <span class="input-group-text">Código</span>
                        <input type="text" class="form-control" id="codigoCombo" value="" readonly>
                    </div>
                </div>
                <div class="col-4">
                    <div class="input-group input-group-sm">
                        <span class="input-group-text">Nombre</span>
                        <input type="text" class="form-control" id="nombreCombo" placeholder="Nombre del combo">
                    </div>
                </div>
                <div class="col-3">
                    <button type="button" class="btn btn-outline-success btn-sm border-0" id="btnAceptarCombo">
                        <i class="fa-solid fa-check"></i> Aceptar
                    </button>
                    <button type="button" class="btn btn-outline-danger btn-sm border-0" id="btnRechazarCombo" data-bs-toggle="collapse" data-bs-target="#seccionCrearCombo">
                        <i class="fa-solid fa-xmark"></i> Rechazar
                    </button>
                </div>
            </div>

            <div class="table-responsive small border" style="height: 350px; overflow-x: auto;">
                <table class="table table-bordered table-sm">
                    <thead class="sticky-top text-nowrap">
                        <tr class="text-center">
                            <th scope="col" class="table-sticky-col custom-header-cons-bg border-1" style="min-width: 180px;">Artículo</th>
                            <th scope="col" class="table-dark" style="min-width: 180px;">
                                <div class="dropdown">
                                    <button class="btn btn-dark dropdown-toggle btn-sm border-0" type="button" data-bs-toggle="dropdown">
                                        [Combo]
                                    </button>
                                    <ul class="dropdown-menu">
                                        <li><a class="dropdown-item" href="#" data-bs-toggle="modal" data-bs-target="#modalConsultaItems"><i class="fa-solid fa-plus"></i> Añadir Artículo</a></li>
                                    </ul>
                                </div>
                            </th>
                            <th scope="col" class="table-dark" style="min-width: 180px;">
                                <div class="dropdown">
                                    <button class="btn btn-dark dropdown-toggle btn-sm border-0" type="button" data-bs-toggle="dropdown">
                                        Artículo 1
                                    </button>
                                    <ul class="dropdown-menu">
                                        <li><a class="dropdown-item" href="#"><i class="fa-solid fa-plus"></i> Añadir Artículo</a></li>
                                        <li><a class="dropdown-item" href="#"><i class="fa-solid fa-trash"></i> Eliminar Artículo</a></li>
                                        <li><a class="dropdown-item" href="#"><i class="fa-solid fa-arrows-left-right"></i> Equivalentes</a></li>
                                        <li><a class="dropdown-item" href="#"><i class="fa-solid fa-tags"></i> Precios Competencia</a></li>
                                        <li><a class="dropdown-item" href="#"><i class="fa-solid fa-coins"></i> Otros Costos</a></li>
                                    </ul>
                                </div>
                            </th>
                            <th scope="col" class="table-dark" style="min-width: 180px;">
                                <div class="dropdown">
                                    <button class="btn btn-dark dropdown-toggle btn-sm border-0" type="button" data-bs-toggle="dropdown">
                                        Artículo 2
                                    </button>
                                    <ul class="dropdown-menu">
                                        <li><a class="dropdown-item" href="#"><i class="fa-solid fa-plus"></i> Añadir Artículo</a></li>
                                        <li><a class="dropdown-item" href="#"><i class="fa-solid fa-trash"></i> Eliminar Artículo</a></li>
                                        <li><a class="dropdown-item" href="#"><i class="fa-solid fa-arrows-left-right"></i> Equivalentes</a></li>
                                        <li><a class="dropdown-item" href="#"><i class="fa-solid fa-tags"></i> Precios Competencia</a></li>
                                        <li><a class="dropdown-item" href="#"><i class="fa-solid fa-coins"></i> Otros Costos</a></li>
                                    </ul>
                                </div>
                            </th>
                        </tr>
                    </thead>
                    <tbody id="tablaComboDetalleBody" class="text-nowrap">
                        <tr>
                            <td class="table-sticky-col custom-header-cons-bg border-1">Costo</td>
                            <td><input type="text" class="form-control form-control-sm" readonly></td>
                            <td><input type="text" class="form-control form-control-sm custom-celda-bg" readonly value="$ 999.99"></td>
                            <td><input type="text" class="form-control form-control-sm custom-celda-bg" readonly value="$ 999.99"></td>
                        </tr>
                        <tr>
                            <td class="table-sticky-col custom-header-cons-bg border-1">Stock Bodega</td>
                            <td><input type="text" class="form-control form-control-sm custom-celda-bg" readonly></td>
                            <td><input type="text" class="form-control form-control-sm custom-celda-bg" readonly value="999"></td>
                            <td><input type="text" class="form-control form-control-sm custom-celda-bg" readonly value="999"></td>
                        </tr>
                        <tr>
                            <td class="table-sticky-col custom-header-cons-bg border-1">Stock Tienda</td>
                            <td><input type="text" class="form-control form-control-sm custom-celda-bg" readonly></td>
                            <td><input type="text" class="form-control form-control-sm custom-celda-bg" readonly value="999"></td>
                            <td><input type="text" class="form-control form-control-sm custom-celda-bg" readonly value="999"></td>
                        </tr>
                        <tr>
                            <td class="table-sticky-col custom-header-ingr-bg border-1">Unidades Límite</td>
                            <td><input type="text" class="form-control form-control-sm" placeholder="999"></td>
                            <td><input type="text" class="form-control form-control-sm custom-celda-bg" readonly></td>
                            <td><input type="text" class="form-control form-control-sm custom-celda-bg" readonly></td>
                        </tr>
                        <tr>
                            <td class="table-sticky-col custom-header-ingr-bg border-1">Proyección Ventas(u)</td>
                            <td><input type="text" class="form-control form-control-sm" placeholder="999"></td>
                            <td><input type="text" class="form-control form-control-sm custom-celda-bg" readonly></td>
                            <td><input type="text" class="form-control form-control-sm custom-celda-bg" readonly></td>
                        </tr>
                        <tr>
                            <td class="table-sticky-col custom-header-ingr-bg border-1">Medio de Pago</td>
                            <td>
                                <button type="button" class="btn btn-outline-secondary btn-sm w-100" data-bs-toggle="modal" data-bs-target="#modalMediosPago">
                                    Medios Pago
                                </button>
                            </td>
                            <td><input type="text" class="form-control form-control-sm custom-celda-bg" readonly></td>
                            <td><input type="text" class="form-control form-control-sm custom-celda-bg" readonly></td>
                        </tr>
                        <tr>
                            <td class="table-sticky-col custom-header-cons-bg border-1">Precio Lista</td>
                            <td><input type="text" class="form-control form-control-sm" readonly value="$ 999.99"></td>
                            <td><input type="text" class="form-control form-control-sm custom-celda-bg" readonly value="$ 999.99"></td>
                            <td><input type="text" class="form-control form-control-sm custom-celda-bg" readonly value="$ 999.99"></td>
                        </tr>
                        <tr>
                            <td class="table-sticky-col custom-header-ingr-bg border-1">Precio Promo Contado</td>
                            <td><input type="text" class="form-control form-control-sm" placeholder="$ 999.99"></td>
                            <td><input type="text" class="form-control form-control-sm custom-celda-bg" readonly></td>
                            <td><input type="text" class="form-control form-control-sm custom-celda-bg" readonly></td>
                        </tr>
                        <tr>
                            <td class="table-sticky-col custom-header-ingr-bg border-1">Precio Promo TC</td>
                            <td><input type="text" class="form-control form-control-sm" placeholder="$ 999.99"></td>
                            <td><input type="text" class="form-control form-control-sm custom-celda-bg" readonly></td>
                            <td><input type="text" class="form-control form-control-sm custom-celda-bg" readonly></td>
                        </tr>
                        <tr>
                            <td class="table-sticky-col custom-header-ingr-bg border-1">Precio Promo Crédito</td>
                            <td><input type="text" class="form-control form-control-sm" placeholder="$ 999.99"></td>
                            <td><input type="text" class="form-control form-control-sm custom-celda-bg" readonly></td>
                            <td><input type="text" class="form-control form-control-sm custom-celda-bg" readonly></td>
                        </tr>
                        <tr>
                            <td class="table-sticky-col custom-header-calc-bg border-1">Descuento Contado</td>
                            <td><input type="text" class="form-control form-control-sm" placeholder="$ 99.99"></td>
                            <td><input type="text" class="form-control form-control-sm custom-celda-bg" readonly></td>
                            <td><input type="text" class="form-control form-control-sm custom-celda-bg" readonly></td>
                        </tr>
                        <tr>
                            <td class="table-sticky-col custom-header-calc-bg border-1">Descuento TC</td>
                            <td><input type="text" class="form-control form-control-sm" placeholder="$ 99.99"></td>
                            <td><input type="text" class="form-control form-control-sm custom-celda-bg" readonly></td>
                            <td><input type="text" class="form-control form-control-sm custom-celda-bg" readonly></td>
                        </tr>
                        <tr>
                            <td class="table-sticky-col custom-header-calc-bg border-1">Descuento Crédito</td>
                            <td><input type="text" class="form-control form-control-sm" placeholder="$ 99.99"></td>
                            <td><input type="text" class="form-control form-control-sm custom-celda-bg" readonly></td>
                            <td><input type="text" class="form-control form-control-sm custom-celda-bg" readonly></td>
                        </tr>
                        <tr>
                            <td class="table-sticky-col custom-header-ingr-bg border-1">Aporte Proveedor</td>
                            <td><input type="text" class="form-control form-control-sm custom-celda-bg" readonly></td>
                            <td><input type="text" class="form-control form-control-sm" placeholder="$ 999.99"></td>
                            <td><input type="text" class="form-control form-control-sm" placeholder="$ 999.99"></td>
                        </tr>
                        <tr>
                            <td class="table-sticky-col custom-header-ingr-bg border-1">Aporte Prov. ID Acuerdo</td>
                            <td><input type="text" class="form-control form-control-sm custom-celda-bg" readonly></td>
                            <td>
                                <div class="input-group input-group-sm">
                                    <input type="text" class="form-control" placeholder="PROV999">
                                    <button class="btn btn-outline-secondary" type="button"><img src="~/img/ico/search.svg" alt="Buscar"></button>
                                </div>
                            </td>
                            <td>
                                <div class="input-group input-group-sm">
                                    <input type="text" class="form-control" placeholder="PROV999">
                                    <button class="btn btn-outline-secondary" type="button"><img src="~/img/ico/search.svg" alt="Buscar"></button>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td class="table-sticky-col custom-header-calc-bg border-1">Regalo</td>
                            <td class="text-center">
                                <input class="form-check-input" type="checkbox">
                            </td>
                            <td><input type="text" class="form-control form-control-sm custom-celda-bg" readonly></td>
                            <td><input type="text" class="form-control form-control-sm custom-celda-bg" readonly></td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <hr class="mt-3 mb-1" />

    <div class="col-12">
        <button type="button" class="btn btn-secondary" id="btnCancelarCombos">Cancelar</button>
        <button type="button" class="btn btn-primary" id="btnGuardarPromocionCombos">Grabar</button>
    </div>
</form>

<div class="modal fade" id="modalConsultaItems" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog modal-xl modal-dialog-scrollable">
        <div class="modal-content">
            <div class="modal-header">
                <h1 class="modal-title fs-5">Consulta de Items</h1>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <div class="row m-2">
                    <div class="card border-secondary p-0">
                        <div class="card-header">Criterios de Selección</div>
                        <div class="card-body">
                            <form class="row g-2">
                                <div class="col-md-3">
                                    <label class="form-label fw-bold col-form-label-sm text-center d-block">Marca</label>
                                    <div class="border rounded p-2" style="height: 100px; overflow-y: auto; background-color: #f8f9fa;">
                                        <div class="form-check">
                                            <input class="form-check-input filtro-todas" type="checkbox" data-target="filtroMarcaModal" checked>
                                            <label class="form-check-label fw-bold">Todas</label>
                                        </div>
                                        <hr class="my-1">
                                        <div id="filtroMarcaModal"></div>
                                    </div>
                                </div>
                                <div class="col-md-3">
                                    <label class="form-label fw-bold col-form-label-sm text-center d-block">División</label>
                                    <div class="border rounded p-2" style="height: 100px; overflow-y: auto; background-color: #f8f9fa;">
                                        <div class="form-check">
                                            <input class="form-check-input filtro-todas" type="checkbox" data-target="filtroDivisionModal" checked>
                                            <label class="form-check-label fw-bold">Todas</label>
                                        </div>
                                        <hr class="my-1">
                                        <div id="filtroDivisionModal"></div>
                                    </div>
                                </div>
                                <div class="col-md-2">
                                    <label class="form-label fw-bold col-form-label-sm text-center d-block">Departamento</label>
                                    <div class="border rounded p-2" style="height: 100px; overflow-y: auto; background-color: #f8f9fa;">
                                        <div class="form-check">
                                            <input class="form-check-input filtro-todas" type="checkbox" data-target="filtroDepartamentoModal" checked>
                                            <label class="form-check-label fw-bold">Todos</label>
                                        </div>
                                        <hr class="my-1">
                                        <div id="filtroDepartamentoModal"></div>
                                    </div>
                                </div>
                                <div class="col-md-2">
                                    <label class="form-label fw-bold col-form-label-sm text-center d-block">Clase</label>
                                    <div class="border rounded p-2" style="height: 100px; overflow-y: auto; background-color: #f8f9fa;">
                                        <div class="form-check">
                                            <input class="form-check-input filtro-todas" type="checkbox" data-target="filtroClaseModal" checked>
                                            <label class="form-check-label fw-bold">Todas</label>
                                        </div>
                                        <hr class="my-1">
                                        <div id="filtroClaseModal"></div>
                                    </div>
                                </div>
                                <div class="col-md-2">
                                    <label class="form-label fw-bold col-form-label-sm text-center d-block">Artículo</label>
                                    <input type="text" id="filtroArticuloModal" class="form-control form-control-sm" placeholder="Buscar...">
                                </div>
                                <div class="col-12 mt-2">
                                    <button type="button" id="btnProcesarFiltros" class="btn btn-secondary btn-sm w-100">
                                        <i class="fa-solid fa-filter"></i> Procesar Selección
                                    </button>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>

                <div class="row m-2">
                    <div class="d-flex align-items-center mt-2">
                        <div class="form-check form-check-sm">
                            <input class="form-check-input" type="checkbox" id="checkTodosItems">
                            <label class="form-check-label" for="checkTodosItems">Todos</label>
                        </div>
                        <div class="flex-grow-1"></div>
                        <input type="text" class="form-control w-25" id="buscarItemModal" placeholder="Buscar en tabla...">
                    </div>
                </div>

                <div class="row m-2">
                    <div class="table-responsive small p-1 border border-secondary" style="max-height: 300px; overflow-y: auto;">
                        <table id="tablaItemsConsulta" class="table table-hover table-bordered w-100">
                            <thead class="sticky-top table-success text-nowrap">
                                <tr>
                                    <th>Sel</th>
                                    <th>Código</th>
                                    <th>Descripción</th>
                                    <th>Costo</th>
                                    <th>Stock</th>
                                    <th>Óptimo</th>
                                    <th>Excedente(u)</th>
                                    <th>Excedente($)</th>
                                    <th>M-0(u)</th>
                                    <th>M-0($)</th>
                                    <th>M-1(u)</th>
                                    <th>M-1($)</th>
                                    <th>M-2(u)</th>
                                    <th>M-2($)</th>
                                </tr>
                            </thead>
                            <tbody>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cerrar</button>
                <button type="button" class="btn btn-primary" id="btnSeleccionarItems">Seleccionar</button>
            </div>
        </div>
    </div>
</div>

<div class="modal fade" id="modalConsultaProveedor" data-bs-backdrop="static" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered modal-xl">
        <div class="modal-content">
            <div class="modal-header">
                <h1 class="modal-title fs-5">Consulta de Fondos/Proveedores</h1>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <div class="table-responsive border rounded" style="max-height: 350px; overflow-y: auto;">
                    <table id="tablaProveedores" class="table table-hover table-sm table-bordered mb-0">
                        <thead class="table-success sticky-top">
                            <tr class="text-nowrap">
                                <th class="text-center">Sel.</th>
                                <th>ID Fondo</th>
                                <th>Descripción</th>
                                <th>RUC</th>
                                <th>Proveedor</th>
                                <th>Tipo Fondo</th>
                                <th class="text-end">Valor Fondo</th>
                                <th>Inicio</th>
                                <th>Fin</th>
                                <th class="text-end">Disponible</th>
                                <th class="text-end">Comprometido</th>
                                <th class="text-end">Liquidado</th>
                                <th>Estado</th>
                            </tr>
                        </thead>
                        <tbody></tbody>
                    </table>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cerrar</button>
                <button type="button" class="btn btn-primary" id="btnAceptarProveedor">Aceptar</button>
            </div>
        </div>
    </div>
</div>

<div class="modal fade" id="modalConsultaAcuerdos" data-bs-backdrop="static" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered modal-xl">
        <div class="modal-content">
            <div class="modal-header">
                <h1 class="modal-title fs-5">Consulta de Acuerdos</h1>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <p>Funcionalidad pendiente de implementar...</p>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cerrar</button>
            </div>
        </div>
    </div>
</div>

<div class="modal fade" id="modalClientesEspecificos" data-bs-backdrop="static" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable">
        <div class="modal-content">
            <div class="modal-header">
                <h1 class="modal-title fs-5">Lista Específica de Clientes</h1>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <div class="row m-2">
                    <div class="col-1 p-0">
                        <input class="form-check-input" type="checkbox" id="chkSeleccionaFile">
                    </div>
                    <div class="col-10 p-0">
                        <div class="input-group input-group-sm">
                            <label class="btn btn-secondary" for="inputFileClientes">Buscar Archivo</label>
                            <input type="file" class="form-control d-none" id="inputFileClientes" disabled>
                            <span class="form-control" id="fileNameClientes">Ningún archivo seleccionado</span>
                        </div>
                    </div>
                    <div class="col-1 p-0">
                        <button type="button" class="btn btn-outline-dark btn-sm border-0" id="btnUploadClientes" disabled>
                            <i class="fa-solid fa-upload"></i>
                        </button>
                    </div>
                </div>
                <div class="input-group mt-2">
                    <textarea class="form-control" style="height: 250px" id="txtListaClientes" placeholder="Ingrese los códigos de cliente..."></textarea>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cerrar</button>
                <button type="button" class="btn btn-primary" data-bs-dismiss="modal">Aceptar</button>
            </div>
        </div>
    </div>
</div>

<div class="modal fade" id="modalMediosPago" data-bs-backdrop="static" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h1 class="modal-title fs-5">Medios de Pago</h1>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <div class="form-check form-switch"><input class="form-check-input" type="checkbox" id="mpEfectivo" checked><label class="form-check-label" for="mpEfectivo">Efectivo</label></div>
                <div class="form-check form-switch"><input class="form-check-input" type="checkbox" id="mpCreditoDirecto" checked><label class="form-check-label" for="mpCreditoDirecto">Crédito Directo</label></div>
                <div class="form-check form-switch"><input class="form-check-input" type="checkbox" id="mpVisaPlatinium" checked><label class="form-check-label" for="mpVisaPlatinium">Visa Platinium</label></div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cerrar</button>
                <button type="button" class="btn btn-primary" data-bs-dismiss="modal">Aceptar</button>
            </div>
        </div>
    </div>
</div>

<div class="modal fade" id="modalEquivalentes" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog"><div class="modal-content"><div class="modal-header"><h1 class="modal-title fs-5">Equivalentes</h1><button type="button" class="btn-close" data-bs-dismiss="modal"></button></div><div class="modal-body">Contenido...</div><div class="modal-footer"><button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cerrar</button></div></div></div>
</div>
<div class="modal fade" id="modalPreciosCompetencia" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog"><div class="modal-content"><div class="modal-header"><h1 class="modal-title fs-5">Precios Competencia</h1><button type="button" class="btn-close" data-bs-dismiss="modal"></button></div><div class="modal-body">Contenido...</div><div class="modal-footer"><button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cerrar</button></div></div></div>
</div>
<div class="modal fade" id="modalOtrosCostos" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog"><div class="modal-content"><div class="modal-header"><h1 class="modal-title fs-5">Otros Costos</h1><button type="button" class="btn-close" data-bs-dismiss="modal"></button></div><div class="modal-body">Contenido...</div><div class="modal-footer"><button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cerrar</button></div></div></div>
</div>